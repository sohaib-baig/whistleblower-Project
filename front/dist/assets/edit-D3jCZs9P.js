import{w as y,u as L,a4 as x,a0 as f,p as a,r as W,j as t,B as o,T as e,a7 as j,I as g,a5 as z,a6 as M,c as h,W as V,aa as G,x as N}from"./index-BJkBHIXD.js";import"./empty-content-Cck_Y1yy.js";import{a as P}from"./index.esm-DG78EUPk.js";import{a as R}from"./zod-DbnPk1Kl.js";import{u as _,a as q}from"./about-us-CWxeGKIN.js";import{F as U}from"./fields-wQ2IQIfM.js";import{s as O}from"./schema-utils-C_-d4BNQ.js";import{F as $}from"./form-provider-BYLnCB41.js";import{S as r}from"./Stack-DSqJGNfN.js";import{C as v}from"./Card-CU8jzKuK.js";import{C as J}from"./CardHeader-BmHD0Q2N.js";import{o as K,s as Q}from"./schemas-BaSQ7w8v.js";import"./text-transform-DM798QSo.js";import"./TextField-BfOXJaKd.js";import"./Select-CM-FquqI.js";import"./index-BdCJuPE0.js";import"./rhf-phone-input-DvY4aKGv.js";import"./index-CDpvdXdB.js";import"./search-not-found-BYtFGFNz.js";import"./InputAdornment-Cyf39fZQ.js";import"./rhf-text-field-D45rQogC.js";import"./RadioGroup-eX8WPtuC.js";import"./FormControlLabel-Do9AncA_.js";import"./Autocomplete-vOabT0lM.js";import"./Chip-Cd7PxQUv.js";import"./rhf-select-BCHEEYe2.js";import"./styles-B-zEs6qR.js";import"./format-number-BErDzwe7.js";import"./upload-default-BMHhCMpu.js";import"./tslib.es6-CTYbIaVE.js";import"./DatePicker-D3hVcc_W.js";const X=s=>K({title:Q().min(5,{message:s("dashboard.aboutUs.errors.titleMinLength")}),content:O.editor().min(100,{message:s("dashboard.aboutUs.errors.contentMinLength")})});function Y(){const{t:s}=y("navbar"),i=L(),{data:n,isLoading:C}=_(),w=q(),A=X(s),d=x(),l=x(!0),I={title:"",content:""},u=P({mode:"all",resolver:R(A),defaultValues:I,values:n?{title:n.title,content:n.content}:void 0}),{watch:E,handleSubmit:F,formState:{isSubmitting:S,isValid:b}}=u,p=E(),H=F(async c=>{try{await w.mutateAsync(c),f.success(s("dashboard.aboutUs.toast.updatedSuccessfully")),i.push(a.dashboard.aboutUs.root)}catch(m){console.error(m),f.error(s("dashboard.aboutUs.toast.updateFailed"))}}),k=W.useCallback(()=>{i.push(a.dashboard.aboutUs.root)},[i]),B=(c,m)=>t.jsx(j,{onClick:m,children:t.jsx(g,{icon:c?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"})}),T=()=>t.jsxs(v,{children:[t.jsx(J,{title:s("dashboard.aboutUs.form.title"),subheader:s("dashboard.aboutUs.form.subheader"),action:B(l.value,l.onToggle),sx:{mb:3}}),t.jsxs(z,{in:l.value,children:[t.jsx(M,{}),t.jsxs(r,{spacing:3,sx:{p:3},children:[t.jsx(U.Text,{name:"title",label:s("dashboard.aboutUs.form.titleLabel")}),t.jsxs(r,{spacing:1.5,children:[t.jsx(e,{variant:"subtitle2",children:s("dashboard.aboutUs.form.content")}),t.jsx(U.Editor,{name:"content",fullItem:!0,sx:{maxHeight:600,"& .ql-editor":{minHeight:400}}}),t.jsx(e,{variant:"caption",color:"text.secondary",sx:{mt:1},children:s("dashboard.aboutUs.form.tip")})]})]})]})]}),D=()=>t.jsxs(o,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end",gap:2,p:2.5},children:[t.jsx(h,{color:"inherit",variant:"outlined",size:"medium",onClick:d.onTrue,disabled:!b,children:s("dashboard.aboutUs.actions.preview")}),t.jsx(h,{color:"inherit",variant:"outlined",size:"medium",onClick:k,children:s("dashboard.aboutUs.actions.cancel")}),t.jsx(h,{type:"submit",variant:"contained",size:"medium",loading:S,disabled:!b,children:s("dashboard.aboutUs.actions.saveChanges")})]});return C?t.jsx(o,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:t.jsx(e,{children:s("dashboard.aboutUs.loading")})}):t.jsxs($,{methods:u,onSubmit:H,children:[t.jsxs(r,{spacing:5,sx:{mx:"auto",maxWidth:{xs:720,xl:880}},children:[T(),D()]}),d.value&&t.jsx(o,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.5)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",p:2},children:t.jsxs(v,{sx:{maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",position:"relative"},children:[t.jsx(o,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:t.jsxs(r,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[t.jsx(e,{variant:"h6",children:s("dashboard.aboutUs.actions.preview")}),t.jsx(j,{onClick:d.onFalse,children:t.jsx(g,{icon:"solar:close-circle-bold"})})]})}),t.jsxs(o,{sx:{p:3},children:[t.jsx(e,{variant:"h4",sx:{mb:2},children:p.title}),t.jsx(o,{sx:{"& h1, & h2, & h3, & h4, & h5, & h6":{color:"text.primary",fontWeight:600,mb:2,mt:3,"&:first-of-type":{mt:0}},"& p":{color:"text.secondary",lineHeight:1.7,mb:2},"& ul, & ol":{pl:3,mb:2,"& li":{color:"text.secondary",lineHeight:1.7,mb:.5}}},dangerouslySetInnerHTML:{__html:p.content}})]})]})})]})}function Z(){const{t:s}=y("navbar");return t.jsxs(V,{children:[t.jsx(G,{heading:s("dashboard.aboutUs.editAboutUs"),backHref:a.dashboard.aboutUs.root,links:[{name:"Dashboard",href:a.dashboard.root},{name:s("sidebar.pages"),href:a.dashboard.user.root},{name:s("dashboard.aboutUs.heading"),href:a.dashboard.aboutUs.root},{name:s("dashboard.aboutUs.edit")}],sx:{mb:{xs:3,md:5}}}),t.jsx(Y,{})]})}const tt={title:`Edit About Us | Dashboard - ${N.appName}`};function Bt(){return t.jsxs(t.Fragment,{children:[t.jsx("title",{children:tt.title}),t.jsx(Z,{})]})}export{Bt as default};
