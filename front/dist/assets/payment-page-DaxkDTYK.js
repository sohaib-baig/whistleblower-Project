import{r as a,e as u,s as c,i as d}from"./index-BJkBHIXD.js";async function y(){return(await c.get(u.pages.paymentPage.get)).data}async function m(n){await d();const s={page_title:n.title,page_content:n.content};return(await c.put(u.pages.paymentPage.update,s)).data}function P(){const[n,s]=a.useState(null),[l,o]=a.useState(!0),[i,p]=a.useState(null),r=a.useCallback(async()=>{try{o(!0),p(null);const e=await y(),t={id:e.id||null,title:e.page_title||"Payment Information",content:e.page_content||"<p>Manage your payment information and billing details.</p>",lastUpdated:e.updated_at||null,pageType:e.page_type||"payment"};s(t)}catch(e){console.error("Failed to fetch payment page:",e);const t=e?.message||e?.response?.data?.message||"Failed to fetch payment page",g=e?.httpStatus||e?.response?.status;console.error("Payment page fetch error details:",{message:t,status:g,url:u.pages.paymentPage.get,error:e}),p(t),s({id:null,title:"Payment Information",content:"<p>Manage your payment information and billing details.</p>",lastUpdated:null,pageType:"payment"})}finally{o(!1)}},[]);return a.useEffect(()=>{r()},[r]),{data:n,isLoading:l,error:i,refetch:r}}function h(){const[n,s]=a.useState(!1),[l,o]=a.useState(!1),[i,p]=a.useState(null),r=a.useCallback(async e=>{s(!0),o(!1),p(null);try{const t=await m(e);return{id:t.id,title:t.page_title,content:t.page_content,lastUpdated:t.updated_at,pageType:t.page_type}}catch(t){throw o(!0),p(t instanceof Error?t.message:"Failed to update payment page"),t}finally{s(!1)}},[]);return{mutate:r,mutateAsync:r,isPending:n,isError:l,error:i}}export{h as a,P as u};
