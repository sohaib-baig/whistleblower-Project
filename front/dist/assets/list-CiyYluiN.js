import{bI as $,j as e,a7 as J,I as u,B as f,al as K,bO as X,bQ as U,L as D,y as v,a6 as z,T as g,bJ as V,bK as G,M as F,r as p,p as C,c as W,u as Z,cG as ee,b4 as N,cH as se,b as te,bu as H,Q as _,dd as le,ab as ne,ah as oe,a4 as re,bR as ie,W as ae,aa as ce,bp as de,bo as pe,bs as xe,bn as me,de as he,x as ue}from"./index-BJkBHIXD.js";import{E as fe}from"./empty-content-Cck_Y1yy.js";import{b as be}from"./format-number-BErDzwe7.js";import{C as ye}from"./Card-CU8jzKuK.js";import{P as je,p as ge}from"./Pagination-BT9THikJ.js";import{m as Ce,p as ke}from"./index-BdvNLWsN.js";import{S as Se}from"./search-not-found-BYtFGFNz.js";import{A as q}from"./Autocomplete-vOabT0lM.js";import{T as Q}from"./TextField-BfOXJaKd.js";import{I as Te}from"./InputAdornment-Cyf39fZQ.js";import{C as ve}from"./fields-wQ2IQIfM.js";import{S as Y}from"./Stack-DSqJGNfN.js";import{F as B,C as M}from"./FormControlLabel-Do9AncA_.js";import{R as Ee}from"./RadioGroup-eX8WPtuC.js";import{F as Fe,a as k,c as S}from"./filters-result-8ZMjXTco.js";import{C as T}from"./Chip-Cd7PxQUv.js";import{o as A}from"./orderBy-BP_idRMj.js";import"./job-create-edit-form-CJCIML2S.js";import"./html-to-markdown-DFGv9hum.js";import"./styles-CIBYb4dP.js";import"./LastPage-CrCg5Ljk.js";import"./Select-CM-FquqI.js";import"./text-transform-DM798QSo.js";import"./index.esm-DG78EUPk.js";import"./index-BdCJuPE0.js";import"./rhf-phone-input-DvY4aKGv.js";import"./index-CDpvdXdB.js";import"./rhf-text-field-D45rQogC.js";import"./rhf-select-BCHEEYe2.js";import"./styles-B-zEs6qR.js";import"./upload-default-BMHhCMpu.js";import"./tslib.es6-CTYbIaVE.js";import"./DatePicker-D3hVcc_W.js";import"./zod-DbnPk1Kl.js";import"./schemas-BaSQ7w8v.js";import"./schema-utils-C_-d4BNQ.js";import"./form-provider-BYLnCB41.js";import"./CardHeader-BmHD0Q2N.js";function we({job:s,editHref:m,detailsHref:i,onDelete:l,sx:r,...c}){const n=$(),a=()=>e.jsx(V,{open:n.open,anchorEl:n.anchorEl,onClose:n.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(G,{children:[e.jsx("li",{children:e.jsxs(F,{component:v,href:i,onClick:()=>n.onClose(),children:[e.jsx(u,{icon:"solar:eye-bold"}),"View"]})}),e.jsx("li",{children:e.jsxs(F,{component:v,href:m,onClick:()=>n.onClose(),children:[e.jsx(u,{icon:"solar:pen-bold"}),"Edit"]})}),e.jsxs(F,{onClick:()=>{n.onClose(),l()},sx:{color:"error.main"},children:[e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})});return e.jsxs(e.Fragment,{children:[e.jsxs(ye,{sx:r,...c,children:[e.jsx(J,{onClick:n.onOpen,sx:{position:"absolute",top:8,right:8},children:e.jsx(u,{icon:"eva:more-vertical-fill"})}),e.jsxs(f,{sx:{p:3,pb:2},children:[e.jsx(K,{alt:s.company.name,src:s.company.logo,variant:"rounded",sx:{width:48,height:48,mb:2}}),e.jsx(X,{sx:{mb:1},primary:e.jsx(D,{component:v,href:i,color:"inherit",children:s.title}),secondary:`Posted date: ${U(s.createdAt)}`,slotProps:{primary:{sx:{typography:"subtitle1"}},secondary:{sx:{mt:1,typography:"caption",color:"text.disabled"}}}}),e.jsxs(f,{sx:{gap:.5,display:"flex",alignItems:"center",color:"primary.main",typography:"caption"},children:[e.jsx(u,{width:16,icon:"solar:users-group-rounded-bold"}),s.candidates.length," candidates"]})]}),e.jsx(z,{sx:{borderStyle:"dashed"}}),e.jsx(f,{sx:{p:3,rowGap:1.5,display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:[{label:s.experience,icon:e.jsx(u,{width:16,icon:"carbon:skill-level-basic",sx:{flexShrink:0}})},{label:s.employmentTypes.join(", "),icon:e.jsx(u,{width:16,icon:"solar:clock-circle-bold",sx:{flexShrink:0}})},{label:s.salary.negotiable?"Negotiable":be(s.salary.price),icon:e.jsx(u,{width:16,icon:"solar:wad-of-money-bold",sx:{flexShrink:0}})},{label:s.role,icon:e.jsx(u,{width:16,icon:"solar:user-rounded-bold",sx:{flexShrink:0}})}].map(x=>e.jsxs(f,{sx:{gap:.5,minWidth:0,flexShrink:0,display:"flex",alignItems:"center",color:"text.disabled"},children:[x.icon,e.jsx(g,{variant:"caption",noWrap:!0,children:x.label})]},x.label))})]}),a()]})}function Ie({jobs:s}){const m=p.useCallback(i=>{console.info("DELETE",i)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(f,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:s.map(i=>e.jsx(we,{job:i,editHref:C.dashboard.job.edit(i.id),detailsHref:C.dashboard.job.details(i.id),onDelete:()=>m(i.id)},i.id))}),s.length>8&&e.jsx(je,{count:8,sx:{mt:{xs:8,md:8},[`& .${ge.ul}`]:{justifyContent:"center"}}})]})}function Re({sort:s,onSort:m,sortOptions:i}){const l=$(),r=()=>e.jsx(V,{open:l.open,anchorEl:l.anchorEl,onClose:l.onClose,children:e.jsx(G,{children:i.map(c=>e.jsx(F,{selected:c.value===s,onClick:()=>{l.onClose(),m(c.value)},children:c.label},c.value))})});return e.jsxs(e.Fragment,{children:[e.jsxs(W,{disableRipple:!0,color:"inherit",onClick:l.onOpen,endIcon:e.jsx(u,{icon:l.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort by:",e.jsx(f,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:s})]}),r()]})}function Pe({redirectPath:s,sx:m}){const i=Z(),[l,r]=p.useState(""),[c,n]=p.useState(null),a=ee(l),{searchResults:x,searchLoading:b}=Oe(a),y=p.useCallback(d=>{n(d),d&&i.push(s(d.id))},[s,i]),o={width:320,[`& .${N.listbox}`]:{[`& .${N.option}`]:{p:0,[`& .${se.root}`]:{px:1,py:.75,width:1}}}};return e.jsx(q,{autoHighlight:!0,popupIcon:null,loading:b,options:x,value:c,onChange:(d,h)=>y(h),onInputChange:(d,h)=>r(h),getOptionLabel:d=>d.title,noOptionsText:e.jsx(Se,{query:a}),isOptionEqualToValue:(d,h)=>d.id===h.id,slotProps:{paper:{sx:o}},sx:[{width:{xs:1,sm:260}},...Array.isArray(m)?m:[m]],renderInput:d=>e.jsx(Q,{...d,placeholder:"Search...",slotProps:{input:{...d.InputProps,startAdornment:e.jsx(Te,{position:"start",children:e.jsx(u,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:e.jsxs(e.Fragment,{children:[b?e.jsx(te,{size:18,color:"inherit",sx:{mr:-3}}):null,d.InputProps.endAdornment]})}}}),renderOption:(d,h,w)=>{const{key:I,...R}=d,P=Ce(h.title,w.inputValue,{insideWords:!0}),O=ke(h.title,P);return e.jsx("li",{...R,children:e.jsx(D,{component:v,href:s(h.id),color:"inherit",underline:"none",children:O.map((E,t)=>e.jsx(f,{component:"span",sx:{typography:"body2",fontWeight:"fontWeightMedium",...E.highlight&&{color:"primary.main",fontWeight:"fontWeightSemiBold"}},children:E.text},t))})},I)}})}function Oe(s){const[m,i]=p.useState([]),[l,r]=p.useState(!1),c=p.useCallback(async()=>{r(!0);try{await new Promise(a=>setTimeout(a,500));const n=H.filter(({title:a})=>[a].some(x=>x?.toLowerCase().includes(s.toLowerCase())));i(n)}catch(n){console.error(n)}finally{r(!1)}},[s]);return p.useEffect(()=>{s?c():i([])},[c,s]),{searchResults:m,searchLoading:l}}function Le({open:s,canReset:m,onOpen:i,onClose:l,filters:r,options:c}){const{state:n,setState:a,resetState:x}=r,b=p.useCallback(t=>{const j=n.employmentTypes.includes(t)?n.employmentTypes.filter(L=>L!==t):[...n.employmentTypes,t];a({employmentTypes:j})},[a,n.employmentTypes]),y=p.useCallback(t=>{a({experience:t})},[a]),o=p.useCallback(t=>{a({roles:t})},[a]),d=p.useCallback(t=>{a({locations:t})},[a]),h=p.useCallback(t=>{const j=n.benefits.includes(t)?n.benefits.filter(L=>L!==t):[...n.benefits,t];a({benefits:j})},[a,n.benefits]),w=()=>e.jsxs(e.Fragment,{children:[e.jsxs(f,{sx:{py:2,pr:1,pl:2.5,display:"flex",alignItems:"center"},children:[e.jsx(g,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),e.jsx(oe,{title:"Reset",children:e.jsx(J,{onClick:()=>x(),children:e.jsx(_,{color:"error",variant:"dot",invisible:!m,children:e.jsx(u,{icon:"solar:restart-bold"})})})}),e.jsx(J,{onClick:l,children:e.jsx(u,{icon:"mingcute:close-line"})})]}),e.jsx(z,{sx:{borderStyle:"dashed"}})]}),I=()=>e.jsxs(f,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(g,{variant:"subtitle2",sx:{mb:1},children:"Employment types"}),c.employmentTypes.map(t=>e.jsx(B,{control:e.jsx(M,{checked:n.employmentTypes.includes(t),onClick:()=>b(t),slotProps:{input:{id:`${t}-checkbox`}}}),label:t},t))]}),R=()=>e.jsxs(f,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(g,{variant:"subtitle2",sx:{mb:1},children:"Experience"}),c.experiences.map(t=>e.jsx(B,{control:e.jsx(Ee,{checked:t===n.experience,onClick:()=>y(t),slotProps:{input:{id:`${t}-radio`}}}),label:t,sx:{...t==="all"&&{textTransform:"capitalize"}}},t))]}),P=()=>e.jsxs(f,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(g,{variant:"subtitle2",sx:{mb:1.5},children:"Roles"}),e.jsx(q,{multiple:!0,disableCloseOnSelect:!0,options:c.roles.map(t=>t),getOptionLabel:t=>t,value:n.roles,onChange:(t,j)=>o(j),renderInput:t=>e.jsx(Q,{placeholder:"Select roles",...t}),slotProps:{chip:{size:"small",variant:"soft"}}})]}),O=()=>e.jsxs(f,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(g,{variant:"subtitle2",sx:{mb:1.5},children:"Locations"}),e.jsx(ve,{multiple:!0,fullWidth:!0,placeholder:n.locations.length?"+ Locations":"Select locations",value:n.locations,onChange:(t,j)=>d(j)})]}),E=()=>e.jsxs(f,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(g,{variant:"subtitle2",sx:{mb:1},children:"Benefits"}),c.benefits.map(t=>e.jsx(B,{control:e.jsx(M,{checked:n.benefits.includes(t),onClick:()=>h(t),slotProps:{input:{id:`${t}-checkbox`}}}),label:t},t))]});return e.jsxs(e.Fragment,{children:[e.jsx(W,{disableRipple:!0,color:"inherit",endIcon:e.jsx(_,{color:"error",variant:"dot",invisible:!m,children:e.jsx(u,{icon:"ic:round-filter-list"})}),onClick:i,children:"Filters"}),e.jsxs(le,{anchor:"right",open:s,onClose:l,slotProps:{backdrop:{invisible:!0},paper:{sx:{width:320}}},children:[w(),e.jsx(ne,{sx:{px:2.5,py:3},children:e.jsxs(Y,{spacing:3,children:[I(),R(),P(),O(),E()]})})]})]})}function Be({filters:s,totalResults:m,sx:i}){const{state:l,setState:r,resetState:c}=s,n=p.useCallback(o=>{const d=l.employmentTypes.filter(h=>h!==o);r({employmentTypes:d})},[r,l.employmentTypes]),a=p.useCallback(()=>{r({experience:"all"})},[r]),x=p.useCallback(o=>{const d=l.roles.filter(h=>h!==o);r({roles:d})},[r,l.roles]),b=p.useCallback(o=>{const d=l.locations.filter(h=>h!==o);r({locations:d})},[r,l.locations]),y=p.useCallback(o=>{const d=l.benefits.filter(h=>h!==o);r({benefits:d})},[r,l.benefits]);return e.jsxs(Fe,{totalResults:m,onReset:()=>c(),sx:i,children:[e.jsx(k,{label:"Employment types:",isShow:!!l.employmentTypes.length,children:l.employmentTypes.map(o=>p.createElement(T,{...S,key:o,label:o,onDelete:()=>n(o)}))}),e.jsx(k,{label:"Experience:",isShow:l.experience!=="all",children:e.jsx(T,{...S,label:l.experience,onDelete:a})}),e.jsx(k,{label:"Roles:",isShow:!!l.roles.length,children:l.roles.map(o=>p.createElement(T,{...S,key:o,label:o,onDelete:()=>x(o)}))}),e.jsx(k,{label:"Locations:",isShow:!!l.locations.length,children:l.locations.map(o=>p.createElement(T,{...S,key:o,label:o,onDelete:()=>b(o)}))}),e.jsx(k,{label:"Benefits:",isShow:!!l.benefits.length,children:l.benefits.map(o=>p.createElement(T,{...S,key:o,label:o,onDelete:()=>y(o)}))})]})}function Ae(){const s=re(),[m,i]=p.useState("latest"),l=ie({roles:[],locations:[],benefits:[],experience:"all",employmentTypes:[]}),{state:r}=l,c=Je({inputData:H,filters:r,sortBy:m}),n=r.roles.length>0||r.locations.length>0||r.benefits.length>0||r.employmentTypes.length>0||r.experience!=="all",a=!c.length&&n,x=p.useCallback(o=>{i(o)},[]),b=()=>e.jsxs(f,{sx:{gap:3,display:"flex",justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"}},children:[e.jsx(Pe,{redirectPath:o=>C.dashboard.job.details(o)}),e.jsxs(f,{sx:{gap:1,flexShrink:0,display:"flex"},children:[e.jsx(Le,{filters:l,canReset:n,open:s.value,onOpen:s.onTrue,onClose:s.onFalse,options:{roles:me,benefits:xe.map(o=>o.label),employmentTypes:pe.map(o=>o.label),experiences:["all",...de.map(o=>o.label)]}}),e.jsx(Re,{sort:m,onSort:x,sortOptions:he})]})]}),y=()=>e.jsx(Be,{filters:l,totalResults:c.length});return e.jsxs(ae,{children:[e.jsx(ce,{heading:"List",links:[{name:"Dashboard",href:C.dashboard.overview.analytics},{name:"Job",href:C.dashboard.job.root},{name:"List"}],action:e.jsx(W,{component:v,href:C.dashboard.job.new,variant:"contained",startIcon:e.jsx(u,{icon:"mingcute:add-line"}),children:"Add job"}),sx:{mb:{xs:3,md:5}}}),e.jsxs(Y,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[b(),n&&y()]}),a&&e.jsx(fe,{filled:!0,sx:{py:10}}),e.jsx(Ie,{jobs:c})]})}function Je({inputData:s,filters:m,sortBy:i}){const{employmentTypes:l,experience:r,roles:c,locations:n,benefits:a}=m;return i==="latest"&&(s=A(s,["createdAt"],["desc"])),i==="oldest"&&(s=A(s,["createdAt"],["asc"])),i==="popular"&&(s=A(s,["totalViews"],["desc"])),l.length&&(s=s.filter(x=>x.employmentTypes.some(b=>l.includes(b)))),r!=="all"&&(s=s.filter(x=>x.experience===r)),c.length&&(s=s.filter(x=>c.includes(x.role))),n.length&&(s=s.filter(x=>x.locations.some(b=>n.includes(b)))),a.length&&(s=s.filter(x=>x.benefits.some(b=>a.includes(b)))),s}const We={title:`Job list | Dashboard - ${ue.appName}`};function ks(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:We.title}),e.jsx(Ae,{})]})}export{ks as default};
