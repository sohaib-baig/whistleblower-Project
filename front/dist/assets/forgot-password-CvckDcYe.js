import{w as f,r as c,x as j,i as b,s as w,j as t,B as e,I as p,T as o,A as d,c as y,L as P,p as v,y as I}from"./index-BJkBHIXD.js";import{a as F}from"./index.esm-DG78EUPk.js";import{a as S}from"./zod-DbnPk1Kl.js";import{F as k}from"./fields-wQ2IQIfM.js";import{s as A}from"./schema-utils-C_-d4BNQ.js";import{F as C}from"./form-provider-BYLnCB41.js";import{o as T}from"./schemas-BaSQ7w8v.js";import"./text-transform-DM798QSo.js";import"./TextField-BfOXJaKd.js";import"./Select-CM-FquqI.js";import"./Stack-DSqJGNfN.js";import"./index-BdCJuPE0.js";import"./rhf-phone-input-DvY4aKGv.js";import"./index-CDpvdXdB.js";import"./search-not-found-BYtFGFNz.js";import"./InputAdornment-Cyf39fZQ.js";import"./rhf-text-field-D45rQogC.js";import"./RadioGroup-eX8WPtuC.js";import"./FormControlLabel-Do9AncA_.js";import"./Autocomplete-vOabT0lM.js";import"./Chip-Cd7PxQUv.js";import"./rhf-select-BCHEEYe2.js";import"./styles-B-zEs6qR.js";import"./format-number-BErDzwe7.js";import"./upload-default-BMHhCMpu.js";import"./tslib.es6-CTYbIaVE.js";import"./DatePicker-D3hVcc_W.js";const L=T({email:A.email()});function it(){const{t:s}=f("messages"),[i,a]=c.useState(null),[n,l]=c.useState(null),x={title:`${s("forgotPassword.title")} | ${j.appName}`},m=F({resolver:S(L),defaultValues:{email:""}}),h=m.handleSubmit(async({email:g})=>{try{a(null),l(null),await b();const r=await w.post("/api/v1/password/forgot",{email:g}),u=r?.message||r?.data?.message;a(u??s("forgotPassword.successMessage"))}catch(r){l(r?.message??s("forgotPassword.errorMessage"))}});return t.jsxs(t.Fragment,{children:[t.jsx("title",{children:x.title}),t.jsxs(e,{sx:{maxWidth:420,mx:"auto",py:6},children:[t.jsx(e,{sx:{display:"flex",justifyContent:"center",mb:3},children:t.jsxs(e,{sx:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(p,{icon:"solar:lock-password-bold",width:80,sx:{color:"success.main",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}}),t.jsx(e,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:32,height:32,borderRadius:"50%",bgcolor:"warning.main",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid",borderColor:"background.paper"},children:t.jsx(o,{variant:"h5",sx:{color:"common.white",fontWeight:"bold",lineHeight:1},children:"?"})})]})}),t.jsx(o,{variant:"h4",sx:{mb:1,textAlign:"center",fontWeight:600},children:s("forgotPassword.pageTitle")}),t.jsx(o,{variant:"body2",sx:{mb:3,textAlign:"center",color:"text.secondary"},children:s("forgotPassword.description")}),!!i&&t.jsx(d,{severity:"success",sx:{mb:3},children:i}),!!n&&t.jsx(d,{severity:"error",sx:{mb:3},children:n}),t.jsxs(C,{methods:m,onSubmit:h,children:[t.jsx(k.Text,{name:"email",label:s("forgotPassword.emailAddress"),slotProps:{inputLabel:{shrink:!0},htmlInput:{placeholder:s("forgotPassword.emailPlaceholder")}}}),t.jsx(y,{fullWidth:!0,size:"large",type:"submit",variant:"contained",sx:{mt:2},children:s("forgotPassword.sendRequest")})]}),t.jsx(e,{sx:{mt:3,textAlign:"center"},children:t.jsxs(P,{component:I,href:v.auth.jwt.signIn,variant:"body2",color:"inherit",sx:{display:"inline-flex",alignItems:"center",gap:.5},children:[t.jsx(p,{icon:"eva:arrow-back-fill",width:16}),s("forgotPassword.returnToSignIn")]})})]})]})}export{it as default};
