import{u as E,a4 as x,a0 as P,p as F,j as e,a5 as h,a6 as u,T as s,c as k,a7 as B,I as K}from"./index-BJkBHIXD.js";import{a as R}from"./index.esm-DG78EUPk.js";import{a as q}from"./zod-DbnPk1Kl.js";import{F as i}from"./fields-wQ2IQIfM.js";import{F as U}from"./form-provider-BYLnCB41.js";import{S as t}from"./Stack-DSqJGNfN.js";import{C as m}from"./Card-CU8jzKuK.js";import{C as j}from"./CardHeader-BmHD0Q2N.js";import{o as L,b as N,s as n}from"./schemas-BaSQ7w8v.js";const z=L({name:n().min(1,{error:"Name is required!"}),endpoint:n().url({error:"Please enter a valid URL!"}),appKey:n().min(1,{error:"App Key is required!"}),appSecret:n().min(1,{error:"App Secret is required!"}),description:n().optional(),isActive:N().default(!0)});function Y({currentIntegration:a}){const v=E(),c=x(!0),l=x(!0),p=x(!0),f={name:"",endpoint:"",appKey:"",appSecret:"",description:"",isActive:!0},g=R({mode:"all",resolver:q(z),defaultValues:f,values:a?{...a,isActive:a.status==="active"}:void 0}),{reset:b,handleSubmit:S,formState:{isSubmitting:T}}=g,A=S(async o=>{try{await new Promise(D=>setTimeout(D,500));const r={...o,status:o.isActive?"active":"inactive"};b(),P.success(a?"Update success!":"Create success!"),v.push(F.dashboard.integration.root),console.info("DATA",r)}catch(r){console.error(r)}}),d=(o,r)=>e.jsx(B,{onClick:r,children:e.jsx(K,{icon:o?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"})}),C=()=>e.jsxs(m,{children:[e.jsx(j,{title:"Integration Details",subheader:"Basic information about the integration",action:d(c.value,c.onToggle),sx:{mb:3}}),e.jsxs(h,{in:c.value,children:[e.jsx(u,{}),e.jsxs(t,{spacing:3,sx:{p:3},children:[e.jsxs(t,{spacing:1.5,children:[e.jsx(s,{variant:"subtitle2",children:"Integration Name"}),e.jsx(i.Text,{name:"name",placeholder:"Ex: Salesforce CRM..."})]}),e.jsxs(t,{spacing:1.5,children:[e.jsx(s,{variant:"subtitle2",children:"Description"}),e.jsx(i.Text,{name:"description",placeholder:"Brief description of the integration...",multiline:!0,rows:3})]})]})]})]}),y=()=>e.jsxs(m,{children:[e.jsx(j,{title:"API Credentials",subheader:"Configure the API endpoint and authentication details",action:d(l.value,l.onToggle),sx:{mb:3}}),e.jsxs(h,{in:l.value,children:[e.jsx(u,{}),e.jsxs(t,{spacing:3,sx:{p:3},children:[e.jsxs(t,{spacing:1.5,children:[e.jsx(s,{variant:"subtitle2",children:"API Endpoint"}),e.jsx(i.Text,{name:"endpoint",placeholder:"https://api.example.com/v1",helperText:"The base URL for the API endpoint"})]}),e.jsxs(t,{spacing:1.5,children:[e.jsx(s,{variant:"subtitle2",children:"App Key"}),e.jsx(i.Text,{name:"appKey",placeholder:"Enter your application key",helperText:"The API key or application identifier"})]}),e.jsxs(t,{spacing:1.5,children:[e.jsx(s,{variant:"subtitle2",children:"App Secret"}),e.jsx(i.Text,{name:"appSecret",placeholder:"Enter your application secret",type:"password",helperText:"The secret key for authentication"})]})]})]})]}),I=()=>e.jsxs(m,{children:[e.jsx(j,{title:"Status Configuration",subheader:"Set the integration status",action:d(p.value,p.onToggle),sx:{mb:3}}),e.jsxs(h,{in:p.value,children:[e.jsx(u,{}),e.jsx(t,{spacing:3,sx:{p:3},children:e.jsxs(t,{spacing:1.5,children:[e.jsx(s,{variant:"subtitle2",children:"Integration Status"}),e.jsx(i.Switch,{name:"isActive",label:"Active",helperText:"Toggle to activate or deactivate this integration"})]})})]})]}),w=()=>e.jsx(t,{sx:{alignItems:"flex-end"},children:e.jsx(k,{type:"submit",variant:"contained",size:"large",loading:T,sx:{ml:2},children:a?"Save Changes":"Create Integration"})});return e.jsx(U,{methods:g,onSubmit:A,children:e.jsxs(t,{spacing:{xs:3,md:5},sx:{mx:"auto",maxWidth:{xs:720,xl:880}},children:[C(),y(),I(),w()]})})}export{Y as I};
