import{e as s,s as f,r,i as y}from"./index-BJkBHIXD.js";async function w(t){const a=new URLSearchParams;t?.search&&a.append("search",t.search),t?.status&&t.status!=="all"&&a.append("status",t.status),t?.per_page&&a.append("per_page",t.per_page.toString()),t?.page&&a.append("page",t.page.toString()),t?.sort&&a.append("sort",t.sort),t?.order&&a.append("order",t.order),t?.company_id&&a.append("company_id",t.company_id);const n=`${s.states.list}?${a.toString()}`;return{data:(await f.get(n)).data}}async function _(t){const a=typeof s.states.details=="function"?s.states.details(t):s.states.details;return(await f.get(a)).data}async function v(t){return await y(),(await f.post(s.states.create,t)).data}async function E(t,a){const n=typeof s.states.update=="function"?s.states.update(t):s.states.update;return await y(),(await f.put(n,a)).data}async function F(t){const a=typeof s.states.delete=="function"?s.states.delete(t):s.states.delete;await y(),await f.delete(a)}function A(t){const[a,n]=r.useState([]),[o,c]=r.useState(!0),[g,u]=r.useState(null),[S,e]=r.useState({currentPage:1,perPage:15,total:0,lastPage:1}),i=JSON.stringify(t),m=r.useCallback(async()=>{try{c(!0),u(null);const d=i?JSON.parse(i):void 0,p=await w(d),h=p.data.data.map(l=>({id:l.id,name:l.name,status:l.status||"active",createdAt:l.created_at,isActive:l.status==="active"}));n(h),e({currentPage:p.data.current_page,perPage:p.data.per_page,total:p.data.total,lastPage:p.data.last_page})}catch(d){console.error("Failed to fetch states:",d),u(d instanceof Error?d.message:"Failed to fetch states"),n([])}finally{c(!1)}},[i]);return r.useEffect(()=>{m()},[m]),{states:a,loading:o,error:g,pagination:S,refetch:m}}function L(t){const[a,n]=r.useState(null),[o,c]=r.useState(!0),[g,u]=r.useState(null);return r.useEffect(()=>{async function S(){try{c(!0),u(null);const e=await _(t),i={id:e.id,name:e.name,status:e.status||"active",createdAt:e.created_at,isActive:e.status==="active"};n(i)}catch(e){console.error("Failed to fetch state:",e),u(e instanceof Error?e.message:"Failed to fetch state"),n(null)}finally{c(!1)}}t&&S()},[t]),{state:a,loading:o,error:g}}export{A as a,E as b,v as c,F as d,w as f,L as u};
