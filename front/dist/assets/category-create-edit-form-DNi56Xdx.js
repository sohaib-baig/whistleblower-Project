import{w as b,u as x,a0 as t,p as f,j as e,B as v,M as S,c as j}from"./index-BJkBHIXD.js";import{a as C}from"./index.esm-DG78EUPk.js";import{a as T}from"./zod-DbnPk1Kl.js";import{u as F,c as G,C as w}from"./category-table-toolbar-ja--RLBF.js";import{F as c}from"./fields-wQ2IQIfM.js";import{F as B}from"./form-provider-BYLnCB41.js";import{G as d}from"./Grid-D_Et280v.js";import{C as E}from"./Card-CU8jzKuK.js";import{S as I}from"./Stack-DSqJGNfN.js";import{o as N,s as i}from"./schemas-BaSQ7w8v.js";function V({currentCategory:r}){const{t:a}=b("navbar"),m=x(),n=N({name:i().min(1,{message:a("dashboard.category.categoryName")+" is required!"}),status:i().min(1,{message:a("dashboard.category.status")+" is required!"})}),l={status:"active",name:""},o=C({mode:"onSubmit",resolver:T(n),defaultValues:l,values:r}),{reset:u,handleSubmit:g,formState:{isSubmitting:h}}=o,p=g(async s=>{try{r?(await F(r.id,s),t.success(a("dashboard.category.categoryUpdated"))):(await G(s),t.success(a("dashboard.category.categoryCreated"))),u(),m.push(f.dashboard.category.list)}catch(y){console.error("Failed to save category:",y),t.error(a("dashboard.category.failedToSave"))}});return e.jsx(B,{methods:o,onSubmit:p,children:e.jsx(d,{container:!0,spacing:3,children:e.jsx(d,{size:{xs:12},children:e.jsxs(E,{sx:{p:3},children:[e.jsxs(v,{sx:{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[e.jsx(c.Text,{name:"name",label:a("dashboard.category.categoryName")}),e.jsx(c.Select,{name:"status",label:a("dashboard.category.status"),placeholder:a("dashboard.category.selectStatus"),children:w.map(s=>e.jsx(S,{value:s.value,children:s.value==="active"?a("dashboard.category.active"):a("dashboard.category.inactive")},s.value))})]}),e.jsx(I,{sx:{mt:3,alignItems:"flex-end"},children:e.jsx(j,{type:"submit",variant:"contained",loading:h,children:a(r?"dashboard.category.saveChanges":"dashboard.category.createCategory")})})]})})})})}export{V as C};
