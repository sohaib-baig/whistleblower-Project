import{r as s,s as u,e as p,i as g}from"./index-BJkBHIXD.js";async function d(e="en"){return(await u.get(p.pages.privacyPolicy.get,{params:{language:e}})).data}async function f(e){await g();const a={page_title:e.title,page_content:e.content};return e.status&&(a.status=e.status),e.language&&(a.language=e.language),(await u.put(p.pages.privacyPolicy.update,a)).data}function v(e="en"){const[a,r]=s.useState(null),[o,i]=s.useState(!0),[l,c]=s.useState(null),n=s.useCallback(async()=>{try{i(!0),c(null);const t=await d(e),y={id:t.id,title:t.page_title,content:t.page_content,lastUpdated:t.updated_at,pageType:t.page_type,status:t.status||"active",language:t.language||e};r(y)}catch(t){console.error("Failed to fetch privacy policy:",t),c(t instanceof Error?t.message:"Failed to fetch privacy policy"),r(null)}finally{i(!1)}},[e]);return s.useEffect(()=>{n()},[n]),{data:a,isLoading:o,error:l,refetch:n}}function m(){const[e,a]=s.useState(!1),[r,o]=s.useState(!1),[i,l]=s.useState(null),c=s.useCallback(async n=>{a(!0),o(!1),l(null);try{const t=await f(n);return{id:t.id,title:t.page_title,content:t.page_content,lastUpdated:t.updated_at,pageType:t.page_type,status:t.status||"active",language:t.language||n.language||"en"}}catch(t){throw o(!0),l(t instanceof Error?t.message:"Failed to update privacy policy"),t}finally{a(!1)}},[]);return{mutate:c,mutateAsync:c,isPending:e,isError:r,error:i}}export{m as a,v as u};
