import{N as S,bf as C,r as t,j as e,C as o,T as l,H as b,x as P,B as u,bg as _,G as B}from"./index-BJkBHIXD.js";import{C as H}from"./Card-CU8jzKuK.js";function E(){const{slug:n,pageSlug:r}=S(),{i18n:m}=C(),[h,x]=t.useState(null),[a,d]=t.useState(null),[y,i]=t.useState(!0),[g,c]=t.useState(null);if(t.useEffect(()=>{(async()=>{if(!(!n||!r))try{i(!0),c(null);const[s,p]=await Promise.all([_(n),B.get(`/api/v1/public/companies/${n}/pages/${r}`)]),j=p?.data?.data??p?.data;x(s),d(j)}catch(s){console.error("[CompanyPageBySlug] Error fetching data:",s),c(s?.response?.data?.message||"Page not found")}finally{i(!1)}})()},[n,r,m.language]),y)return e.jsx(o,{maxWidth:"lg",sx:{py:4},children:e.jsx(l,{children:"Loading..."})});if(g||!a)return e.jsx(o,{maxWidth:"lg",sx:{py:4},children:e.jsx(l,{variant:"h5",color:"error",children:g||"Page not found"})});const f=a?.page_title||h?.name||"Page";return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx("title",{children:`${f} - ${P.appName}`})}),e.jsx(u,{sx:{minHeight:"100vh",bgcolor:"grey.50"},children:e.jsx(o,{maxWidth:"lg",sx:{py:4},children:e.jsxs(H,{sx:{p:{xs:2,sm:4}},children:[a.page_title&&e.jsx(l,{variant:"h4",sx:{mb:3,fontWeight:600},children:a.page_title}),a.page_content&&e.jsx(u,{sx:{"& h1, & h2, & h3, & h4, & h5, & h6":{color:"text.primary",fontWeight:600,mb:2,mt:3,"&:first-of-type":{mt:0}},"& p":{color:"text.secondary",lineHeight:1.7,mb:2},"& ul, & ol":{pl:3,mb:2,"& li":{color:"text.secondary",lineHeight:1.7,mb:.5}}},dangerouslySetInnerHTML:{__html:a.page_content}})]})})})]})}function D(){return e.jsx(E,{})}export{D as default};
