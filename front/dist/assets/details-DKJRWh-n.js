import{w as C,V as N,bI as P,j as e,B as p,c as j,y as h,I as o,ah as v,a7 as g,bJ as S,bK as E,M as T,r as b,W as f,p as x,C as W,bU as L,T as M,N as A,x as B}from"./index-BJkBHIXD.js";import{b as D}from"./news-D7oUkqF0.js";import"./index-BdvNLWsN.js";import"./styles-CIBYb4dP.js";import"./text-transform-DM798QSo.js";import"./styles-B-zEs6qR.js";import"./html-to-markdown-DFGv9hum.js";import{E as F}from"./empty-content-Cck_Y1yy.js";import{M as H}from"./markdown-CqzjXB8r.js";import{N as O}from"./news-skeleton-DEOoMfBF.js";import{N as G}from"./news-details-hero-BAPErd-B.js";import{S as U}from"./Stack-DSqJGNfN.js";import{C as $}from"./Chip-Cd7PxQUv.js";import"./TextField-BfOXJaKd.js";import"./Select-CM-FquqI.js";import"./format-number-BErDzwe7.js";import"./image-V8EDN90f.js";import"./index-BdCJuPE0.js";import"./Skeleton-CyTM2RGr.js";function R({sx:s,publish:r,backHref:l,editHref:i,liveHref:m,publishOptions:c,onChangePublish:u,...t}){const{t:n}=C("navbar"),{user:I}=N(),d=P(),k=I?.role==="admin",w=a=>a==="published"?n("dashboard.news.status.published"):a==="draft"?n("dashboard.news.status.draft"):a,y=()=>e.jsx(S,{open:d.open,anchorEl:d.anchorEl,onClose:d.onClose,slotProps:{arrow:{placement:"top-right"}},children:e.jsx(E,{children:c.map(a=>e.jsxs(T,{selected:a.value===r,onClick:()=>{d.onClose(),u(a.value)},children:[a.value==="published"&&e.jsx(o,{icon:"eva:cloud-upload-fill"}),a.value==="draft"&&e.jsx(o,{icon:"solar:file-text-bold"}),w(a.value)]},a.value))})});return e.jsxs(e.Fragment,{children:[e.jsxs(p,{sx:[{gap:1.5,display:"flex",mb:{xs:3,md:5}},...Array.isArray(s)?s:[s]],...t,children:[e.jsx(j,{component:h,href:l,startIcon:e.jsx(o,{icon:"eva:arrow-ios-back-fill",width:16}),children:n("dashboard.news.toolbar.back")}),e.jsx(p,{sx:{flexGrow:1}}),r==="published"&&e.jsx(v,{title:n("dashboard.news.toolbar.goLive"),children:e.jsx(g,{component:h,href:m,children:e.jsx(o,{icon:"eva:external-link-fill"})})}),k&&e.jsxs(e.Fragment,{children:[e.jsx(v,{title:n("dashboard.news.toolbar.edit"),children:e.jsx(g,{component:h,href:i,children:e.jsx(o,{icon:"solar:pen-bold"})})}),e.jsx(j,{color:"inherit",variant:"contained",loading:!r,loadingIndicator:n("dashboard.news.toolbar.loading"),endIcon:e.jsx(o,{icon:"eva:arrow-ios-downward-fill"}),onClick:d.onOpen,sx:{textTransform:"capitalize"},children:w(r)})]})]}),y()]})}function V({news:s,loading:r,error:l}){const{t:i}=C("navbar"),[m,c]=b.useState(""),u=b.useCallback(t=>{c(t)},[]);return b.useEffect(()=>{s&&c(s.publish)},[s]),r?e.jsx(f,{maxWidth:!1,disablePadding:!0,children:e.jsx(O,{})}):l||!s?e.jsx(f,{maxWidth:!1,children:e.jsx(F,{filled:!0,title:i("dashboard.news.emptyState.notFound"),action:e.jsx(j,{component:h,href:x.dashboard.news.root,startIcon:e.jsx(o,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:i("dashboard.news.emptyState.backToList")}),sx:{py:10,height:"auto",flexGrow:"unset"}})}):e.jsxs(f,{maxWidth:!1,disablePadding:!0,children:[e.jsx(W,{maxWidth:!1,sx:{px:{sm:5}},children:e.jsx(R,{backHref:x.dashboard.news.root,editHref:x.dashboard.news.edit(s.id),liveHref:x.dashboard.news.details(s.id),publish:`${m}`,onChangePublish:u,publishOptions:L})}),e.jsx(G,{title:s.title,coverUrl:s.coverUrl}),e.jsxs(p,{sx:{pb:5,mx:"auto",maxWidth:720,mt:{xs:5,md:10},px:{xs:2,sm:3}},children:[e.jsx(M,{variant:"subtitle1",children:s.description}),e.jsx(H,{children:s.content}),e.jsx(U,{spacing:3,sx:[t=>({py:3,borderTop:`dashed 1px ${t.vars.palette.divider}`,borderBottom:`dashed 1px ${t.vars.palette.divider}`})],children:e.jsx(p,{sx:{gap:1,display:"flex",flexWrap:"wrap"},children:s.tags.map(t=>e.jsx($,{label:t,variant:"soft"},t))})})]})]})}const _={title:`News details | Dashboard - ${B.appName}`};function xe(){const{id:s=""}=A(),{news:r,loading:l,error:i}=D(s||"");return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:_.title}),e.jsx(V,{news:r||void 0,loading:l,error:i})]})}export{xe as default};
