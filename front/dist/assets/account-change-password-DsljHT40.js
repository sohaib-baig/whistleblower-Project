import{R,a4 as ge,bX as pe,a0 as U,j as y,a7 as _,I as Q,c as Ee}from"./index-BJkBHIXD.js";import{i as Ce}from"./rhf-phone-input-DvY4aKGv.js";import"./text-transform-DM798QSo.js";import"./styles-B-zEs6qR.js";import{s as K}from"./schema-utils-C_-d4BNQ.js";import{o as J,s as b,b as Pe}from"./schemas-BaSQ7w8v.js";import{a as Me}from"./index.esm-DG78EUPk.js";import{a as Re}from"./zod-DbnPk1Kl.js";import{F as j}from"./fields-wQ2IQIfM.js";import{F as Ae}from"./form-provider-BYLnCB41.js";import{C as ye}from"./Card-CU8jzKuK.js";import{I as k}from"./InputAdornment-Cyf39fZQ.js";J({city:b().min(1,{error:"City is required!"}),state:b().min(1,{error:"State is required!"}),name:b().min(1,{error:"Name is required!"}),address:b().min(1,{error:"Address is required!"}),zipCode:b().min(1,{error:"Zip code is required!"}),phoneNumber:K.phoneNumber({isValid:Ce}),country:K.nullableInput(b().min(1,{error:"Country is required!"}),{error:"Country is required!"}),primary:Pe(),addressType:b()});var Ne=Object.defineProperty,B=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,Z=(a,l,n)=>l in a?Ne(a,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[l]=n,H=(a,l)=>{for(var n in l||(l={}))ee.call(l,n)&&Z(a,n,l[n]);if(B)for(var n of B(l))te.call(l,n)&&Z(a,n,l[n]);return a},$=(a,l)=>{var n={};for(var u in a)ee.call(a,u)&&l.indexOf(u)<0&&(n[u]=a[u]);if(a!=null&&B)for(var u of B(a))l.indexOf(u)<0&&te.call(a,u)&&(n[u]=a[u]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var F;(a=>{const l=class w{constructor(e,r,t,s){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<w.MIN_VERSION||e>w.MAX_VERSION)throw new RangeError("Version value out of range");if(s<-1||s>7)throw new RangeError("Mask value out of range");this.size=e*4+17;let o=[];for(let i=0;i<this.size;i++)o.push(!1);for(let i=0;i<this.size;i++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();const c=this.addEccAndInterleave(t);if(this.drawCodewords(c),s==-1){let i=1e9;for(let f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);const h=this.getPenaltyScore();h<i&&(s=f,i=h),this.applyMask(f)}}g(0<=s&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}static encodeText(e,r){const t=a.QrSegment.makeSegments(e);return w.encodeSegments(t,r)}static encodeBinary(e,r){const t=a.QrSegment.makeBytes(e);return w.encodeSegments([t],r)}static encodeSegments(e,r,t=1,s=40,o=-1,c=!0){if(!(w.MIN_VERSION<=t&&t<=s&&s<=w.MAX_VERSION)||o<-1||o>7)throw new RangeError("Invalid value");let i,f;for(i=t;;i++){const m=w.getNumDataCodewords(i,r)*8,M=P.getTotalBits(e,i);if(M<=m){f=M;break}if(i>=s)throw new RangeError("Data too long")}for(const m of[w.Ecc.MEDIUM,w.Ecc.QUARTILE,w.Ecc.HIGH])c&&f<=w.getNumDataCodewords(i,m)*8&&(r=m);let h=[];for(const m of e){n(m.mode.modeBits,4,h),n(m.numChars,m.mode.numCharCountBits(i),h);for(const M of m.getData())h.push(M)}g(h.length==f);const A=w.getNumDataCodewords(i,r)*8;g(h.length<=A),n(0,Math.min(4,A-h.length),h),n(0,(8-h.length%8)%8,h),g(h.length%8==0);for(let m=236;h.length<A;m^=253)n(m,8,h);let E=[];for(;E.length*8<h.length;)E.push(0);return h.forEach((m,M)=>E[M>>>3]|=m<<7-(M&7)),new w(i,r,E,o)}getModule(e,r){return 0<=e&&e<this.size&&0<=r&&r<this.size&&this.modules[r][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let t=0;t<this.size;t++)this.setFunctionModule(6,t,t%2==0),this.setFunctionModule(t,6,t%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),r=e.length;for(let t=0;t<r;t++)for(let s=0;s<r;s++)t==0&&s==0||t==0&&s==r-1||t==r-1&&s==0||this.drawAlignmentPattern(e[t],e[s]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const r=this.errorCorrectionLevel.formatBits<<3|e;let t=r;for(let o=0;o<10;o++)t=t<<1^(t>>>9)*1335;const s=(r<<10|t)^21522;g(s>>>15==0);for(let o=0;o<=5;o++)this.setFunctionModule(8,o,u(s,o));this.setFunctionModule(8,7,u(s,6)),this.setFunctionModule(8,8,u(s,7)),this.setFunctionModule(7,8,u(s,8));for(let o=9;o<15;o++)this.setFunctionModule(14-o,8,u(s,o));for(let o=0;o<8;o++)this.setFunctionModule(this.size-1-o,8,u(s,o));for(let o=8;o<15;o++)this.setFunctionModule(8,this.size-15+o,u(s,o));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^(e>>>11)*7973;const r=this.version<<12|e;g(r>>>18==0);for(let t=0;t<18;t++){const s=u(r,t),o=this.size-11+t%3,c=Math.floor(t/3);this.setFunctionModule(o,c,s),this.setFunctionModule(c,o,s)}}drawFinderPattern(e,r){for(let t=-4;t<=4;t++)for(let s=-4;s<=4;s++){const o=Math.max(Math.abs(s),Math.abs(t)),c=e+s,i=r+t;0<=c&&c<this.size&&0<=i&&i<this.size&&this.setFunctionModule(c,i,o!=2&&o!=4)}}drawAlignmentPattern(e,r){for(let t=-2;t<=2;t++)for(let s=-2;s<=2;s++)this.setFunctionModule(e+s,r+t,Math.max(Math.abs(s),Math.abs(t))!=1)}setFunctionModule(e,r,t){this.modules[r][e]=t,this.isFunction[r][e]=!0}addEccAndInterleave(e){const r=this.version,t=this.errorCorrectionLevel;if(e.length!=w.getNumDataCodewords(r,t))throw new RangeError("Invalid argument");const s=w.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][r],o=w.ECC_CODEWORDS_PER_BLOCK[t.ordinal][r],c=Math.floor(w.getNumRawDataModules(r)/8),i=s-c%s,f=Math.floor(c/s);let h=[];const A=w.reedSolomonComputeDivisor(o);for(let m=0,M=0;m<s;m++){let N=e.slice(M,M+f-o+(m<i?0:1));M+=N.length;const z=w.reedSolomonComputeRemainder(N,A);m<i&&N.push(0),h.push(N.concat(z))}let E=[];for(let m=0;m<h[0].length;m++)h.forEach((M,N)=>{(m!=f-o||N>=i)&&E.push(M[m])});return g(E.length==c),E}drawCodewords(e){if(e.length!=Math.floor(w.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let t=this.size-1;t>=1;t-=2){t==6&&(t=5);for(let s=0;s<this.size;s++)for(let o=0;o<2;o++){const c=t-o,f=(t+1&2)==0?this.size-1-s:s;!this.isFunction[f][c]&&r<e.length*8&&(this.modules[f][c]=u(e[r>>>3],7-(r&7)),r++)}}g(r==e.length*8)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let r=0;r<this.size;r++)for(let t=0;t<this.size;t++){let s;switch(e){case 0:s=(t+r)%2==0;break;case 1:s=r%2==0;break;case 2:s=t%3==0;break;case 3:s=(t+r)%3==0;break;case 4:s=(Math.floor(t/3)+Math.floor(r/2))%2==0;break;case 5:s=t*r%2+t*r%3==0;break;case 6:s=(t*r%2+t*r%3)%2==0;break;case 7:s=((t+r)%2+t*r%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[r][t]&&s&&(this.modules[r][t]=!this.modules[r][t])}}getPenaltyScore(){let e=0;for(let o=0;o<this.size;o++){let c=!1,i=0,f=[0,0,0,0,0,0,0];for(let h=0;h<this.size;h++)this.modules[o][h]==c?(i++,i==5?e+=w.PENALTY_N1:i>5&&e++):(this.finderPenaltyAddHistory(i,f),c||(e+=this.finderPenaltyCountPatterns(f)*w.PENALTY_N3),c=this.modules[o][h],i=1);e+=this.finderPenaltyTerminateAndCount(c,i,f)*w.PENALTY_N3}for(let o=0;o<this.size;o++){let c=!1,i=0,f=[0,0,0,0,0,0,0];for(let h=0;h<this.size;h++)this.modules[h][o]==c?(i++,i==5?e+=w.PENALTY_N1:i>5&&e++):(this.finderPenaltyAddHistory(i,f),c||(e+=this.finderPenaltyCountPatterns(f)*w.PENALTY_N3),c=this.modules[h][o],i=1);e+=this.finderPenaltyTerminateAndCount(c,i,f)*w.PENALTY_N3}for(let o=0;o<this.size-1;o++)for(let c=0;c<this.size-1;c++){const i=this.modules[o][c];i==this.modules[o][c+1]&&i==this.modules[o+1][c]&&i==this.modules[o+1][c+1]&&(e+=w.PENALTY_N2)}let r=0;for(const o of this.modules)r=o.reduce((c,i)=>c+(i?1:0),r);const t=this.size*this.size,s=Math.ceil(Math.abs(r*20-t*10)/t)-1;return g(0<=s&&s<=9),e+=s*w.PENALTY_N4,g(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{const e=Math.floor(this.version/7)+2,r=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2;let t=[6];for(let s=this.size-7;t.length<e;s-=r)t.splice(1,0,s);return t}}static getNumRawDataModules(e){if(e<w.MIN_VERSION||e>w.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;r-=(25*t-10)*t-55,e>=7&&(r-=36)}return g(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(w.getNumRawDataModules(e)/8)-w.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*w.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let r=[];for(let s=0;s<e-1;s++)r.push(0);r.push(1);let t=1;for(let s=0;s<e;s++){for(let o=0;o<r.length;o++)r[o]=w.reedSolomonMultiply(r[o],t),o+1<r.length&&(r[o]^=r[o+1]);t=w.reedSolomonMultiply(t,2)}return r}static reedSolomonComputeRemainder(e,r){let t=r.map(s=>0);for(const s of e){const o=s^t.shift();t.push(0),r.forEach((c,i)=>t[i]^=w.reedSolomonMultiply(c,o))}return t}static reedSolomonMultiply(e,r){if(e>>>8||r>>>8)throw new RangeError("Byte out of range");let t=0;for(let s=7;s>=0;s--)t=t<<1^(t>>>7)*285,t^=(r>>>s&1)*e;return g(t>>>8==0),t}finderPenaltyCountPatterns(e){const r=e[1];g(r<=this.size*3);const t=r>0&&e[2]==r&&e[3]==r*3&&e[4]==r&&e[5]==r;return(t&&e[0]>=r*4&&e[6]>=r?1:0)+(t&&e[6]>=r*4&&e[0]>=r?1:0)}finderPenaltyTerminateAndCount(e,r,t){return e&&(this.finderPenaltyAddHistory(r,t),r=0),r+=this.size,this.finderPenaltyAddHistory(r,t),this.finderPenaltyCountPatterns(t)}finderPenaltyAddHistory(e,r){r[0]==0&&(e+=this.size),r.pop(),r.unshift(e)}};l.MIN_VERSION=1,l.MAX_VERSION=40,l.PENALTY_N1=3,l.PENALTY_N2=3,l.PENALTY_N3=40,l.PENALTY_N4=10,l.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],l.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],a.QrCode=l;function n(p,e,r){if(e<0||e>31||p>>>e)throw new RangeError("Value out of range");for(let t=e-1;t>=0;t--)r.push(p>>>t&1)}function u(p,e){return(p>>>e&1)!=0}function g(p){if(!p)throw new Error("Assertion error")}const d=class C{constructor(e,r,t){if(this.mode=e,this.numChars=r,this.bitData=t,r<0)throw new RangeError("Invalid argument");this.bitData=t.slice()}static makeBytes(e){let r=[];for(const t of e)n(t,8,r);return new C(C.Mode.BYTE,e.length,r)}static makeNumeric(e){if(!C.isNumeric(e))throw new RangeError("String contains non-numeric characters");let r=[];for(let t=0;t<e.length;){const s=Math.min(e.length-t,3);n(parseInt(e.substring(t,t+s),10),s*3+1,r),t+=s}return new C(C.Mode.NUMERIC,e.length,r)}static makeAlphanumeric(e){if(!C.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r=[],t;for(t=0;t+2<=e.length;t+=2){let s=C.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t))*45;s+=C.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),n(s,11,r)}return t<e.length&&n(C.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,r),new C(C.Mode.ALPHANUMERIC,e.length,r)}static makeSegments(e){return e==""?[]:C.isNumeric(e)?[C.makeNumeric(e)]:C.isAlphanumeric(e)?[C.makeAlphanumeric(e)]:[C.makeBytes(C.toUtf8ByteArray(e))]}static makeEci(e){let r=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)n(e,8,r);else if(e<16384)n(2,2,r),n(e,14,r);else if(e<1e6)n(6,3,r),n(e,21,r);else throw new RangeError("ECI assignment value out of range");return new C(C.Mode.ECI,0,r)}static isNumeric(e){return C.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return C.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,r){let t=0;for(const s of e){const o=s.mode.numCharCountBits(r);if(s.numChars>=1<<o)return 1/0;t+=4+o+s.bitData.length}return t}static toUtf8ByteArray(e){e=encodeURI(e);let r=[];for(let t=0;t<e.length;t++)e.charAt(t)!="%"?r.push(e.charCodeAt(t)):(r.push(parseInt(e.substring(t+1,t+3),16)),t+=2);return r}};d.NUMERIC_REGEX=/^[0-9]*$/,d.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,d.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let P=d;a.QrSegment=d})(F||(F={}));(a=>{(l=>{const n=class{constructor(g,d){this.ordinal=g,this.formatBits=d}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),l.Ecc=n})(a.QrCode||(a.QrCode={}))})(F||(F={}));(a=>{(l=>{const n=class{constructor(g,d){this.modeBits=g,this.numBitsCharCount=d}numCharCountBits(g){return this.numBitsCharCount[Math.floor((g+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),l.Mode=n})(a.QrSegment||(a.QrSegment={}))})(F||(F={}));var O=F;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ve={L:O.QrCode.Ecc.LOW,M:O.QrCode.Ecc.MEDIUM,Q:O.QrCode.Ecc.QUARTILE,H:O.QrCode.Ecc.HIGH},re=128,se="L",oe="#FFFFFF",ne="#000000",ie=!1,ae=1,be=4,Ie=0,Se=.1;function le(a,l=0){const n=[];return a.forEach(function(u,g){let d=null;u.forEach(function(P,p){if(!P&&d!==null){n.push(`M${d+l} ${g+l}h${p-d}v1H${d+l}z`),d=null;return}if(p===u.length-1){if(!P)return;d===null?n.push(`M${p+l},${g+l} h1v1H${p+l}z`):n.push(`M${d+l},${g+l} h${p+1-d}v1H${d+l}z`);return}P&&d===null&&(d=p)})}),n.join("")}function ce(a,l){return a.slice().map((n,u)=>u<l.y||u>=l.y+l.h?n:n.map((g,d)=>d<l.x||d>=l.x+l.w?g:!1))}function Fe(a,l,n,u){if(u==null)return null;const g=a.length+n*2,d=Math.floor(l*Se),P=g/l,p=(u.width||d)*P,e=(u.height||d)*P,r=u.x==null?a.length/2-p/2:u.x*P,t=u.y==null?a.length/2-e/2:u.y*P,s=u.opacity==null?1:u.opacity;let o=null;if(u.excavate){let i=Math.floor(r),f=Math.floor(t),h=Math.ceil(p+r-i),A=Math.ceil(e+t-f);o={x:i,y:f,w:h,h:A}}const c=u.crossOrigin;return{x:r,y:t,h:e,w:p,excavation:o,opacity:s,crossOrigin:c}}function Oe(a,l){return l!=null?Math.max(Math.floor(l),0):a?be:Ie}function ue({value:a,level:l,minVersion:n,includeMargin:u,marginSize:g,imageSettings:d,size:P,boostLevel:p}){let e=R.useMemo(()=>{const i=(Array.isArray(a)?a:[a]).reduce((f,h)=>(f.push(...O.QrSegment.makeSegments(h)),f),[]);return O.QrCode.encodeSegments(i,ve[l],n,void 0,void 0,p)},[a,l,n,p]);const{cells:r,margin:t,numCells:s,calculatedImageSettings:o}=R.useMemo(()=>{let c=e.getModules();const i=Oe(u,g),f=c.length+i*2,h=Fe(c,P,i,d);return{cells:c,margin:i,numCells:f,calculatedImageSettings:h}},[e,P,d,u,g]);return{qrcode:e,margin:t,cells:r,numCells:s,calculatedImageSettings:o}}var Le=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Te=R.forwardRef(function(l,n){const u=l,{value:g,size:d=re,level:P=se,bgColor:p=oe,fgColor:e=ne,includeMargin:r=ie,minVersion:t=ae,boostLevel:s,marginSize:o,imageSettings:c}=u,f=$(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:h}=f,A=$(f,["style"]),E=c?.src,m=R.useRef(null),M=R.useRef(null),N=R.useCallback(S=>{m.current=S,typeof n=="function"?n(S):n&&(n.current=S)},[n]),[z,G]=R.useState(!1),{margin:L,cells:D,numCells:x,calculatedImageSettings:v}=ue({value:g,level:P,minVersion:t,boostLevel:s,includeMargin:r,marginSize:o,imageSettings:c,size:d});R.useEffect(()=>{if(m.current!=null){const S=m.current,I=S.getContext("2d");if(!I)return;let Y=D;const T=M.current,X=v!=null&&T!==null&&T.complete&&T.naturalHeight!==0&&T.naturalWidth!==0;X&&v.excavation!=null&&(Y=ce(D,v.excavation));const W=window.devicePixelRatio||1;S.height=S.width=d*W;const q=d/x*W;I.scale(q,q),I.fillStyle=p,I.fillRect(0,0,x,x),I.fillStyle=e,Le?I.fill(new Path2D(le(Y,L))):D.forEach(function(he,fe){he.forEach(function(me,we){me&&I.fillRect(we+L,fe+L,1,1)})}),v&&(I.globalAlpha=v.opacity),X&&I.drawImage(T,v.x+L,v.y+L,v.w,v.h)}}),R.useEffect(()=>{G(!1)},[E]);const de=H({height:d,width:d},h);let V=null;return E!=null&&(V=R.createElement("img",{src:E,key:E,style:{display:"none"},onLoad:()=>{G(!0)},ref:M,crossOrigin:v?.crossOrigin})),R.createElement(R.Fragment,null,R.createElement("canvas",H({style:de,height:d,width:d,ref:N,role:"img"},A)),V)});Te.displayName="QRCodeCanvas";var ze=R.forwardRef(function(l,n){const u=l,{value:g,size:d=re,level:P=se,bgColor:p=oe,fgColor:e=ne,includeMargin:r=ie,minVersion:t=ae,boostLevel:s,title:o,marginSize:c,imageSettings:i}=u,f=$(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:h,cells:A,numCells:E,calculatedImageSettings:m}=ue({value:g,level:P,minVersion:t,boostLevel:s,includeMargin:r,marginSize:c,imageSettings:i,size:d});let M=A,N=null;i!=null&&m!=null&&(m.excavation!=null&&(M=ce(A,m.excavation)),N=R.createElement("image",{href:i.src,height:m.h,width:m.w,x:m.x+h,y:m.y+h,preserveAspectRatio:"none",opacity:m.opacity,crossOrigin:m.crossOrigin}));const z=le(M,h);return R.createElement("svg",H({height:d,width:d,viewBox:`0 0 ${E} ${E}`,ref:n,role:"img"},f),!!o&&R.createElement("title",null,o),R.createElement("path",{fill:p,d:`M0,0 h${E}v${E}H0z`,shapeRendering:"crispEdges"}),R.createElement("path",{fill:e,d:z,shapeRendering:"crispEdges"}),N)});ze.displayName="QRCodeSVG";const Be=a=>a==="old_password"?"oldPassword":a==="new_password"?"newPassword":a==="new_password_confirmation"?"confirmNewPassword":null,De=J({oldPassword:b().min(1,{error:"Password is required!"}).min(8,{error:"Password must be at least 8 characters!"}),newPassword:b().min(1,{error:"New password is required!"}).min(8,{error:"Password must be at least 8 characters!"}).regex(/[A-Z]/,{message:"Password must contain at least one uppercase letter"}).regex(/[a-z]/,{message:"Password must contain at least one lowercase letter"}).regex(/[0-9]/,{message:"Password must contain at least one digit"}).regex(/[^A-Za-z0-9]/,{message:"Password must contain at least one symbol"}),confirmNewPassword:b().min(1,{error:"Confirm password is required!"})}).refine(a=>a.oldPassword!==a.newPassword,{error:"New password must be different than old password",path:["newPassword"]}).refine(a=>a.newPassword===a.confirmNewPassword,{error:"Passwords do not match!",path:["confirmNewPassword"]});function Ke(){const a=ge(),l={oldPassword:"",newPassword:"",confirmNewPassword:""},n=Me({mode:"all",resolver:Re(De),defaultValues:l}),{reset:u,handleSubmit:g,formState:{isSubmitting:d},setError:P}=n,p=g(async e=>{try{await pe({currentPassword:e.oldPassword,newPassword:e.newPassword,confirmPassword:e.confirmNewPassword}),u(),U.success("Password updated successfully")}catch(r){const t=r?.response?.data?.data?.errors;if(t&&typeof t=="object"){const s=[];let o=null;Object.entries(t).forEach(([i,f])=>{const A=(Array.isArray(f)?f:[f]).find(E=>typeof E=="string"&&E.trim().length>0);if(A){const E=Be(i);E&&(P(E,{type:"server",message:A},{shouldFocus:o===null}),o===null&&(o=E)),s.push(A)}});const c=s.length?s[0]:"Failed to update password";U.error(c);return}U.error(r instanceof Error&&r.message?r.message:"Failed to update password")}});return y.jsx(Ae,{methods:n,onSubmit:p,children:y.jsxs(ye,{sx:{p:3,gap:3,display:"flex",flexDirection:"column"},children:[y.jsx(j.Text,{name:"oldPassword",type:a.value?"text":"password",label:"Old password",slotProps:{input:{endAdornment:y.jsx(k,{position:"end",children:y.jsx(_,{onClick:a.onToggle,edge:"end",children:y.jsx(Q,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}}),y.jsx(j.Text,{name:"newPassword",label:"New password",type:a.value?"text":"password",slotProps:{input:{endAdornment:y.jsx(k,{position:"end",children:y.jsx(_,{onClick:a.onToggle,edge:"end",children:y.jsx(Q,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}}),y.jsx(j.Text,{name:"confirmNewPassword",type:a.value?"text":"password",label:"Confirm new password",slotProps:{input:{endAdornment:y.jsx(k,{position:"end",children:y.jsx(_,{onClick:a.onToggle,edge:"end",children:y.jsx(Q,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}}),y.jsx(Ee,{type:"submit",variant:"contained",loading:d,sx:{ml:"auto"},children:"Save changes"})]})})}export{Ke as A,ze as Q};
