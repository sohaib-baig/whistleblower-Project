import{r as n,s as l,e as p,i as g}from"./index-BJkBHIXD.js";async function f(e="en"){return(await l.get(p.pages.termsConditions.get,{params:{language:e}})).data}async function m(e){await g();const s={page_title:e.title,page_content:e.content};return e.status&&(s.status=e.status),e.language&&(s.language=e.language),(await l.put(p.pages.termsConditions.update,s)).data}function C(e="en"){const[s,o]=n.useState(null),[i,u]=n.useState(!0),[c,r]=n.useState(null),a=n.useCallback(async()=>{try{u(!0),r(null);const t=await f(e),d={id:t.id,title:t.page_title,content:t.page_content,lastUpdated:t.updated_at,pageType:t.page_type,status:t.status||"active",language:t.language||e};o(d)}catch(t){console.error("Failed to fetch terms & conditions:",t),r(t instanceof Error?t.message:"Failed to fetch terms & conditions"),o(null)}finally{u(!1)}},[e]);return n.useEffect(()=>{a()},[a]),{data:s,isLoading:i,error:c,refetch:a}}function _(){const[e,s]=n.useState(!1),[o,i]=n.useState(!1),[u,c]=n.useState(null),r=n.useCallback(async a=>{s(!0),i(!1),c(null);try{const t=await m(a);return{id:t.id,title:t.page_title,content:t.page_content,lastUpdated:t.updated_at,pageType:t.page_type,status:t.status||"active",language:t.language||a.language||"en"}}catch(t){throw i(!0),c(t instanceof Error?t.message:"Failed to update terms & conditions"),t}finally{s(!1)}},[]);return{mutate:r,mutateAsync:r,isPending:e,isError:o,error:u}}export{_ as a,C as u};
