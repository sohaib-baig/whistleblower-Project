import{u as _,a4 as h,bn as b,a0 as D,p as N,j as e,a5 as j,a6 as g,T as i,bo as L,bp as A,bq as F,br as R,B as d,I as x,P as q,bb as H,bs as J,bt as W,c as M,a7 as G}from"./index-BJkBHIXD.js";import{a as U}from"./zod-DbnPk1Kl.js";import{a as K,C as Y}from"./index.esm-DG78EUPk.js";import{F as o}from"./fields-wQ2IQIfM.js";import{s as l}from"./schema-utils-C_-d4BNQ.js";import{F as Z}from"./form-provider-BYLnCB41.js";import{S as r}from"./Stack-DSqJGNfN.js";import{C as y}from"./Card-CU8jzKuK.js";import{C as f}from"./CardHeader-BmHD0Q2N.js";import{I as z}from"./InputAdornment-Cyf39fZQ.js";import{F as V}from"./FormControlLabel-Do9AncA_.js";import{i as X,Z as $,o as C,s as a,b as Q}from"./schemas-BaSQ7w8v.js";function ee(n){return X($,n)}const se=C({title:a().min(1,{error:"Title is required!"}),content:l.editor().min(100,{error:"Content must be at least 100 characters"}),employmentTypes:a().array().min(1,{error:"Choose at least one option!"}),role:l.nullableInput(a().min(1,{error:"Role is required!"}),{error:"Role is required!"}),skills:a().array().min(1,{error:"Choose at least one option!"}),workingSchedule:a().array().min(1,{error:"Choose at least one option!"}),locations:a().array().min(1,{error:"Choose at least one option!"}),expiredDate:l.date({error:{required:"Expired date is required!"}}),salary:C({price:l.nullableInput(ee().min(1,{error:"Price is required!"}),{error:"Price is required!"}),type:a(),negotiable:Q()}),benefits:a().array().min(1,{error:"Choose at least one option!"}),experience:a()});function ue({currentJob:n}){const S=_(),c=h(!0),p=h(!0),v={title:"",content:"",employmentTypes:[],experience:"1 year exp",role:b[1],skills:[],workingSchedule:[],locations:[],expiredDate:null,salary:{type:"Hourly",price:null,negotiable:!1},benefits:[]},m=K({mode:"all",resolver:U(se),defaultValues:v,values:n}),{reset:T,control:P,handleSubmit:O,formState:{isSubmitting:w}}=m,E=O(async s=>{try{await new Promise(t=>setTimeout(t,500)),T(),D.success(n?"Update success!":"Create success!"),S.push(N.dashboard.job.root),console.info("DATA",s)}catch(t){console.error(t)}}),u=(s,t)=>e.jsx(G,{onClick:t,children:e.jsx(x,{icon:s?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"})}),k=()=>e.jsxs(y,{children:[e.jsx(f,{title:"Details",subheader:"Title, short description, image...",action:u(c.value,c.onToggle),sx:{mb:3}}),e.jsxs(j,{in:c.value,children:[e.jsx(g,{}),e.jsxs(r,{spacing:3,sx:{p:3},children:[e.jsxs(r,{spacing:1.5,children:[e.jsx(i,{variant:"subtitle2",children:"Title"}),e.jsx(o.Text,{name:"title",placeholder:"Ex: Software engineer..."})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(i,{variant:"subtitle2",children:"Content"}),e.jsx(o.Editor,{name:"content",sx:{maxHeight:480}})]})]})]})]}),I=()=>e.jsxs(y,{children:[e.jsx(f,{title:"Properties",subheader:"Additional functions and attributes...",action:u(p.value,p.onToggle),sx:{mb:3}}),e.jsxs(j,{in:p.value,children:[e.jsx(g,{}),e.jsxs(r,{spacing:3,sx:{p:3},children:[e.jsxs(r,{spacing:1,children:[e.jsx(i,{variant:"subtitle2",children:"Employment type"}),e.jsx(o.MultiCheckbox,{row:!0,name:"employmentTypes",options:L,sx:{gap:4}})]}),e.jsxs(r,{spacing:1,children:[e.jsx(i,{variant:"subtitle2",children:"Experience"}),e.jsx(o.RadioGroup,{row:!0,name:"experience",options:A,sx:{gap:4}})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(i,{variant:"subtitle2",children:"Role"}),e.jsx(o.Autocomplete,{name:"role",autoHighlight:!0,options:b.map(s=>s),getOptionLabel:s=>s})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(i,{variant:"subtitle2",children:"Skills"}),e.jsx(o.Autocomplete,{name:"skills",placeholder:"+ Skills",multiple:!0,disableCloseOnSelect:!0,options:F.map(s=>s),getOptionLabel:s=>s,slotProps:{chip:{color:"info"}}})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(i,{variant:"subtitle2",children:"Working schedule"}),e.jsx(o.Autocomplete,{name:"workingSchedule",placeholder:"+ Schedule",multiple:!0,disableCloseOnSelect:!0,options:R.map(s=>s),getOptionLabel:s=>s,slotProps:{chip:{color:"info"}}})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(i,{variant:"subtitle2",children:"Locations"}),e.jsx(o.CountrySelect,{multiple:!0,name:"locations",placeholder:"+ Locations",slotProps:{chip:{color:"info"}}})]}),e.jsxs(r,{spacing:1.5,children:[e.jsx(i,{variant:"subtitle2",children:"Expired"}),e.jsx(o.DatePicker,{name:"expiredDate"})]}),e.jsxs(r,{spacing:2,children:[e.jsx(i,{variant:"subtitle2",children:"Salary"}),e.jsx(Y,{name:"salary.type",control:P,render:({field:s})=>e.jsx(d,{sx:{gap:2,display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:[{label:"Hourly",icon:e.jsx(x,{icon:"solar:clock-circle-bold",width:32,sx:{mb:2}})},{label:"Custom",icon:e.jsx(x,{icon:"solar:wad-of-money-bold",width:32,sx:{mb:2}})}].map(t=>e.jsxs(q,{component:H,variant:"outlined",onClick:()=>s.onChange(t.label),sx:{p:2.5,borderRadius:1,typography:"subtitle2",flexDirection:"column",...t.label===s.value&&{borderWidth:2,borderColor:"text.primary"}},children:[t.icon,t.label]},t.label))})}),e.jsx(o.Text,{name:"salary.price",placeholder:"0.00",type:"number",slotProps:{input:{startAdornment:e.jsx(z,{position:"start",sx:{mr:.75},children:e.jsx(d,{component:"span",sx:{color:"text.disabled"},children:"$"})})}}}),e.jsx(o.Switch,{name:"salary.negotiable",label:"Salary is negotiable"})]}),e.jsxs(r,{spacing:1,children:[e.jsx(i,{variant:"subtitle2",children:"Benefits"}),e.jsx(o.MultiCheckbox,{name:"benefits",options:J,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]})]})]})]}),B=()=>e.jsxs(d,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[e.jsx(V,{label:"Publish",control:e.jsx(W,{defaultChecked:!0,slotProps:{input:{id:"publish-switch"}}}),sx:{flexGrow:1,pl:3}}),e.jsx(M,{type:"submit",variant:"contained",size:"large",loading:w,sx:{ml:2},children:n?"Save changes":"Create job"})]});return e.jsx(Z,{methods:m,onSubmit:E,children:e.jsxs(r,{spacing:{xs:3,md:5},sx:{mx:"auto",maxWidth:{xs:720,xl:880}},children:[k(),I(),B()]})})}export{ue as J};
