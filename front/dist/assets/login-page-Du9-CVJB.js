import{r as a,e as c,s as g,i as d}from"./index-BJkBHIXD.js";async function f(){return(await g.get(c.pages.loginPage.get)).data}async function y(s){await d();const i={page_title:s.title?.trim()||null,page_content:s.content};return(await g.put(c.pages.loginPage.update,i)).data}function h(){const[s,n]=a.useState(null),[i,o]=a.useState(!0),[p,l]=a.useState(null),r=a.useCallback(async()=>{try{o(!0),l(null);const e=await f(),t={id:e.id||null,title:e.page_title?.trim()||"",content:e.page_content||"<p>More effectively with optimized workflows.</p>",lastUpdated:e.updated_at||null,pageType:e.page_type||"login"};n(t)}catch(e){console.error("Failed to fetch login page:",e);const t=e?.message||e?.response?.data?.message||"Failed to fetch login page",u=e?.httpStatus||e?.response?.status;console.error("Login page fetch error details:",{message:t,status:u,url:c.pages.loginPage.get,error:e}),l(t),n({id:null,title:"",content:"<p>More effectively with optimized workflows.</p>",lastUpdated:null,pageType:"login"})}finally{o(!1)}},[]);return a.useEffect(()=>{r()},[r]),{data:s,isLoading:i,error:p,refetch:r}}function w(){const[s,n]=a.useState(!1),[i,o]=a.useState(!1),[p,l]=a.useState(null),r=a.useCallback(async e=>{n(!0),o(!1),l(null);try{const t=await y(e);return{id:t.id,title:t.page_title,content:t.page_content,lastUpdated:t.updated_at,pageType:t.page_type}}catch(t){throw o(!0),l(t instanceof Error?t.message:"Failed to update login page"),t}finally{n(!1)}},[]);return{mutate:r,mutateAsync:r,isPending:s,isError:i,error:p}}export{w as a,h as u};
