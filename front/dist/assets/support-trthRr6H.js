import{r as s,s as l,e as i,i as d}from"./index-BJkBHIXD.js";async function f(e="en"){return(await l.get(i.pages.support.get,{params:{language:e}})).data}async function y(e){await d();const a={page_title:e.title,page_content:e.content};return e.status&&(a.status=e.status),e.language&&(a.language=e.language),(await l.put(i.pages.support.update,a)).data}function m(e="en"){const[a,r]=s.useState(null),[u,p]=s.useState(!0),[c,o]=s.useState(null),n=s.useCallback(async()=>{try{p(!0),o(null);const t=await f(e),g={id:t.id,title:t.page_title,content:t.page_content,lastUpdated:t.updated_at,pageType:t.page_type,status:t.status||"active",language:t.language||e};r(g)}catch(t){console.error("Failed to fetch support page:",t),o(t instanceof Error?t.message:"Failed to fetch support page"),r(null)}finally{p(!1)}},[e]);return s.useEffect(()=>{n()},[n]),{data:a,isLoading:u,error:c,refetch:n}}function _(){const[e,a]=s.useState(!1),[r,u]=s.useState(!1),[p,c]=s.useState(null),o=s.useCallback(async n=>{a(!0),u(!1),c(null);try{const t=await y(n);return{id:t.id,title:t.page_title,content:t.page_content,lastUpdated:t.updated_at,pageType:t.page_type,status:t.status||"active",language:t.language||n.language||"en"}}catch(t){throw u(!0),c(t instanceof Error?t.message:"Failed to update support page"),t}finally{a(!1)}},[]);return{mutate:o,mutateAsync:o,isPending:e,isError:r,error:p}}export{_ as a,m as u};
