const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-apexcharts.min-BXnraGnB.js","assets/index-BJkBHIXD.js","assets/index-BskmkDfh.css","assets/index-CDpvdXdB.js"])))=>i.map(i=>d[i]);
import{bl as D,j as e,k as R,bE as K,B as C,r as g,dE as be,bT as E,m as je,U as Z,T as q,I as se,dG as ve,x as ce,ck as Ce,s as ke,e as we,w as B,a6 as _e,V as De,bf as Oe,u as Se,d as S,dH as Te,p as Ae,dI as Re,dJ as We,W as ze,A as Ie,c as re,b as Me}from"./index-BJkBHIXD.js";import{S as A}from"./Skeleton-CyTM2RGr.js";import{d as J,c as ie,a as Le}from"./format-number-BErDzwe7.js";import{C as b}from"./Card-CU8jzKuK.js";import{C as F}from"./CardHeader-BmHD0Q2N.js";import{T as Ye}from"./TableContainer-D0zNvGRU.js";import{b as Fe,d as Pe,T as oe,a as T,c as $e}from"./TableHead-D9jAElFw.js";import{G as f}from"./Grid-D_Et280v.js";import{D as ne}from"./DatePicker-D3hVcc_W.js";import{T as Ee,a as $}from"./ToggleButtonGroup-B6lzZI28.js";import{T as Be}from"./TextField-BfOXJaKd.js";import"./index-CDpvdXdB.js";import"./Select-CM-FquqI.js";import"./InputAdornment-Cyf39fZQ.js";import"./Chip-Cd7PxQUv.js";const O={root:D("chart__root"),loading:D("chart__loading"),legends:{root:D("chart__legends__root"),item:{wrapper:D("chart__legends__item__wrapper"),root:D("chart__legends__item__root"),dot:D("chart__legends__item__dot"),icon:D("chart__legends__item__icon"),label:D("chart__legends__item__label"),value:D("chart__legends__item__value")}}};function Ne({sx:t,className:a,slotProps:s,icons:d=[],values:l=[],labels:i=[],colors:o=[],sublabels:x=[],...y}){return e.jsx(Ve,{className:K([O.legends.root,a]),sx:t,...y,children:i.map((c,p)=>e.jsxs(Ue,{className:O.legends.item.wrapper,sx:[{"--icon-color":o[p],...s?.wrapper},...Array.isArray(s?.wrapper?.sx)?s.wrapper.sx:[s?.wrapper?.sx]],children:[e.jsxs(Ge,{className:O.legends.item.root,...s?.root,children:[d.length?e.jsx(He,{className:O.legends.item.icon,...s?.icon,children:d[p]}):e.jsx(qe,{className:O.legends.item.dot,...s?.dot}),e.jsxs(Je,{className:O.legends.item.label,...s?.label,children:[c,!!x.length&&e.jsxs(e.Fragment,{children:[" ",` (${x[p]})`]})]})]}),l&&e.jsx(Qe,{className:O.legends.item.value,...s?.value,children:l[p]})]},c))})}const Ve=R("ul")(({theme:t})=>({display:"flex",flexWrap:"wrap",gap:t.spacing(2)})),Ue=R("li")(()=>({display:"inline-flex",flexDirection:"column"})),Ge=R("div")(({theme:t})=>({gap:6,alignItems:"center",display:"inline-flex",justifyContent:"flex-start",fontSize:t.typography.pxToRem(13),fontWeight:t.typography.fontWeightMedium})),He=R("span")({display:"inline-flex",color:"var(--icon-color)","& > :first-of-type:not(style):not(:first-of-type ~ *), & > style + *":{width:20,height:20}}),qe=R("span")({width:12,height:12,flexShrink:0,display:"flex",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center",color:"var(--icon-color)",backgroundColor:"currentColor"}),Je=R("span")({flexShrink:0}),Qe=R("span")(({theme:t})=>({...t.typography.h6,marginTop:t.spacing(1)}));function Xe({sx:t,className:a,type:s,...d}){const l=["donut","radialBar","pie","polarArea"];return e.jsx(C,{className:K([O.loading,a]),sx:[()=>({top:0,left:0,width:1,zIndex:9,height:1,p:"inherit",overflow:"hidden",alignItems:"center",position:"absolute",borderRadius:"inherit",justifyContent:"center"}),...Array.isArray(t)?t:[t]],...d,children:e.jsx(A,{variant:"circular",sx:{width:1,height:1,borderRadius:"inherit",...l.includes(s)&&{borderRadius:"50%"}}})})}const Ze=g.lazy(()=>be(()=>import("./react-apexcharts.min-BXnraGnB.js").then(t=>t.r),__vite__mapDeps([0,1,2,3])));function M({sx:t,type:a,series:s,slotProps:d,className:l,options:i={},...o}){const x=()=>e.jsx(Xe,{type:a,sx:d?.loading});return e.jsx(Ke,{dir:"ltr",className:K([O.root,l]),sx:t,...o,children:e.jsx(g.Suspense,{fallback:x(),children:e.jsx(Ze,{type:a,series:s,options:i,width:"100%",height:"100%"})})})}const Ke=R("div")(({theme:t})=>({width:"100%",flexShrink:0,position:"relative",borderRadius:Number(t.shape.borderRadius)*1.5}));function L(t){const a=E(),s=et(a)??{};return je(s,t??{})}const et=t=>{const a={show:!0,label:"Total",color:t.vars.palette.text.secondary,fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight},s={offsetY:8,color:t.vars.palette.text.primary,fontSize:t.typography.h4.fontSize,fontWeight:t.typography.h4.fontWeight};return{chart:{toolbar:{show:!1},zoom:{enabled:!1},parentHeightOffset:0,fontFamily:t.typography.fontFamily,foreColor:t.vars.palette.text.disabled,animations:{enabled:!0,speed:360,animateGradually:{enabled:!0,delay:120},dynamicAnimation:{enabled:!0,speed:360}}},colors:[t.palette.primary.main,t.palette.warning.main,t.palette.info.main,t.palette.error.main,t.palette.success.main,t.palette.warning.dark,t.palette.success.darker,t.palette.info.dark,t.palette.info.darker],states:{hover:{filter:{type:"darken"}},active:{filter:{type:"darken"}}},fill:{opacity:1,gradient:{type:"vertical",shadeIntensity:0,opacityFrom:.4,opacityTo:0,stops:[0,100]}},dataLabels:{enabled:!1},stroke:{width:2.5,curve:"smooth",lineCap:"round"},grid:{strokeDashArray:3,borderColor:t.vars.palette.divider,padding:{top:0,right:0,bottom:0},xaxis:{lines:{show:!1}}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{tickAmount:5},markers:{size:0,strokeColors:t.vars.palette.background.paper},tooltip:{theme:"false",fillSeriesColor:!1,x:{show:!0}},legend:{show:!1,position:"top",fontWeight:500,fontSize:"13px",horizontalAlign:"right",markers:{shape:"circle"},labels:{colors:t.vars.palette.text.primary},itemMargin:{horizontal:8,vertical:8}},plotOptions:{bar:{borderRadius:4,columnWidth:"48%",borderRadiusApplication:"end"},pie:{donut:{labels:{show:!0,value:{...s},total:{...a}}}},radialBar:{hollow:{margin:-8,size:"100%"},track:{margin:-8,strokeWidth:"50%",background:Z(t.vars.palette.grey["500Channel"],.16)},dataLabels:{value:{...s},total:{...a}}},radar:{polygons:{fill:{colors:["transparent"]},strokeColors:t.vars.palette.divider,connectorColors:t.vars.palette.divider}},polarArea:{rings:{strokeColor:t.vars.palette.divider},spokes:{connectorColors:t.vars.palette.divider}},heatmap:{distributed:!0}},responsive:[{breakpoint:t.breakpoints.values.sm,options:{plotOptions:{bar:{borderRadius:3,columnWidth:"80%"}}}},{breakpoint:t.breakpoints.values.md,options:{plotOptions:{bar:{columnWidth:"60%"}}}}]}};function tt({sx:t,icon:a,title:s,total:d,chart:l,percent:i,color:o="primary",displayVariant:x="default",periodText:y="last 7 days",onClick:c,...p}){const u=E(),j=x==="clean",v=i>0?u.palette.success.main:i<0?u.palette.error.main:u.palette.info.main,Y=l.colors?.[0]??v,W=L({chart:{sparkline:{enabled:!0},type:"bar",toolbar:{show:!1}},colors:[Y],stroke:{width:0},xaxis:{categories:l.categories,labels:{show:!1},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{show:!1},grid:{show:!1,padding:{top:0,left:0,right:0,bottom:0}},plotOptions:{bar:{columnWidth:"56%",borderRadius:2}},tooltip:{enabled:!1},dataLabels:{enabled:!1},...l.options}),N=[u.palette[o].dark],V=L({chart:{sparkline:{enabled:!0}},colors:N,xaxis:{categories:l.categories},grid:{padding:{top:6,left:6,right:6,bottom:6}},tooltip:{y:{formatter:z=>J(z),title:{formatter:()=>""}}},markers:{strokeWidth:0},...l.options});if(j)return e.jsxs(b,{sx:[()=>({p:3,display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:u.customShadows?.z8??"0 18px 36px rgba(15, 23, 42, 0.08)",backgroundColor:u.palette.background.paper,borderRadius:3,cursor:c?"pointer":"default",transition:"all 0.2s ease-in-out","&:hover":c?{boxShadow:u.customShadows?.z16??"0 24px 48px rgba(15, 23, 42, 0.12)",transform:"translateY(-2px)"}:{}}),...Array.isArray(t)?t:[t]],onClick:c,...p,children:[e.jsxs(C,{sx:{flexGrow:1,minWidth:0,pr:3},children:[e.jsx(q,{variant:"subtitle2",noWrap:!0,sx:{color:"text.secondary",fontWeight:500},children:s}),e.jsx(C,{sx:{mt:1.5,mb:2,typography:"h3",color:"text.primary"},children:J(d)}),e.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.75},children:[e.jsx(se,{width:18,icon:i<0?"solar:double-alt-arrow-down-bold-duotone":"solar:double-alt-arrow-up-bold-duotone",sx:{color:v}}),e.jsxs(C,{component:"span",sx:{fontSize:"0.875rem",fontWeight:600,color:v},children:[i>0&&"+",ie(i)]}),y&&e.jsx(C,{component:"span",sx:{fontSize:"0.8125rem",color:"text.secondary"},children:y})]})]}),e.jsx(M,{type:"bar",series:[{data:l.series}],options:W,sx:{width:86,height:64,flexShrink:0}})]});const n=(()=>{try{const I=u.vars?.palette?.[o];if(I?.lighterChannel&&I?.lightChannel)return{lighter:Z(I.lighterChannel,.48),light:Z(I.lightChannel,.48)}}catch{}const z=u.palette[o]?.light||u.palette.primary.light,U=u.palette[o]?.main||u.palette.primary.main;return{lighter:z,light:U}})(),Q=()=>e.jsxs(C,{sx:{top:16,gap:.5,right:16,display:"flex",position:"absolute",alignItems:"center"},children:[e.jsx(se,{width:20,icon:i<0?"eva:trending-down-fill":"eva:trending-up-fill"}),e.jsxs(C,{component:"span",sx:{typography:"subtitle2"},children:[i>0&&"+",ie(i)]})]});return e.jsxs(b,{sx:[()=>({p:3,boxShadow:j?"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)":"none",position:"relative",color:j?"text.primary":`${o}.darker`,backgroundColor:"common.white",backgroundImage:`linear-gradient(135deg, ${n.lighter}, ${n.light})`}),...Array.isArray(t)?t:[t]],...p,children:[e.jsx(C,{sx:{width:48,height:48,mb:3},children:a}),Q(),e.jsxs(C,{sx:{display:"flex",flexWrap:"wrap",alignItems:"flex-end",justifyContent:"flex-end"},children:[e.jsxs(C,{sx:{flexGrow:1,minWidth:112},children:[e.jsx(q,{variant:"subtitle2",noWrap:!0,sx:{mb:1},children:s}),e.jsx(C,{sx:{typography:"h4"},children:Le(d)})]}),e.jsx(M,{type:"line",series:[{data:l.series}],options:V,sx:{width:84,height:56}})]}),e.jsx(ve,{src:`${ce.assetsDir}/assets/background/shape-square.svg`,sx:{top:0,left:-20,width:240,zIndex:-1,height:240,opacity:.24,position:"absolute",color:`${o}.main`}})]})}var H={exports:{}},at=H.exports,le;function st(){return le||(le=1,function(t,a){(function(s,d){t.exports=d()})(at,function(){var s="day";return function(d,l,i){var o=function(c){return c.add(4-c.isoWeekday(),s)},x=l.prototype;x.isoWeekYear=function(){return o(this).year()},x.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),s);var p,u,j,v,Y=o(this),W=(p=this.isoWeekYear(),u=this.$u,j=(u?i.utc:i)().year(p).startOf("year"),v=4-j.isoWeekday(),j.isoWeekday()>4&&(v+=7),j.add(v,s));return Y.diff(W,"week")+1},x.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var y=x.startOf;x.startOf=function(c,p){var u=this.$utils(),j=!!u.u(p)||p;return u.p(c)==="isoweek"?j?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):y.bind(this)(c,p)}}})}(H)),H.exports}var rt=st();const it=Ce(rt);async function ot(t={}){return(await ke.get(we.dashboard.overview,{params:{from_date:t.fromDate,to_date:t.toDate,time_period:t.timePeriod,company_id:t.companyId??void 0}})).data}function nt({title:t,subheader:a,chart:s,sx:d,...l}){const i=L({chart:{type:"area"},colors:s.colors,xaxis:{categories:s.categories},stroke:{width:2},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,100]}},tooltip:{y:{formatter:o=>J(o)}}});return e.jsxs(b,{sx:{height:"100%",...d},...l,children:[e.jsx(F,{title:t,subheader:a}),e.jsx(M,{type:"area",series:s.series,options:i,sx:{height:364}})]})}function lt({title:t,subheader:a,chart:s,sx:d,...l}){const i=E(),{t:o}=B("navbar"),x=L({chart:{type:"bar",sparkline:{enabled:!1}},colors:[i.palette.primary.main],plotOptions:{bar:{columnWidth:"60%",borderRadius:4}},xaxis:{categories:s.categories},yaxis:{title:{text:o("dashboard.analytics.charts.labels.numberOfCompanies")}},tooltip:{y:{formatter:y=>`${y} ${o("dashboard.analytics.charts.labels.companies")}`}},...s.options});return e.jsxs(b,{sx:{height:"100%",...d},...l,children:[e.jsx(F,{title:t,subheader:a}),e.jsx(M,{type:"bar",series:[{name:o("dashboard.analytics.charts.labels.companiesJoined"),data:s.series}],options:x,sx:{height:364}})]})}function dt({title:t,subheader:a,list:s,sx:d,...l}){const{t:i}=B("navbar");return e.jsxs(b,{sx:d,...l,children:[e.jsx(F,{title:t,subheader:a}),e.jsx(Ye,{children:e.jsxs(Fe,{children:[e.jsx(Pe,{children:e.jsxs(oe,{children:[e.jsx(T,{children:i("dashboard.analytics.charts.tableHeaders.name")}),e.jsx(T,{children:i("dashboard.analytics.charts.tableHeaders.phone")}),e.jsx(T,{children:i("dashboard.analytics.charts.tableHeaders.address")}),e.jsx(T,{children:i("dashboard.analytics.charts.tableHeaders.date")})]})}),e.jsx($e,{children:s.map(o=>e.jsxs(oe,{children:[e.jsx(T,{children:o.name}),e.jsx(T,{children:o.phone}),e.jsx(T,{children:o.address}),e.jsx(T,{children:o.date})]},o.id))})]})})]})}function ct({title:t,subheader:a,chart:s,sx:d,...l}){const i=L({chart:{type:"line"},colors:s.colors,xaxis:{categories:s.categories},stroke:{width:3,curve:"smooth"},markers:{size:6},tooltip:{y:{formatter:o=>J(o)}}});return e.jsxs(b,{sx:{height:"100%",...d},...l,children:[e.jsx(F,{title:t,subheader:a}),e.jsx(M,{type:"line",series:s.series,options:i,sx:{height:364}})]})}function ht({title:t,subheader:a,chart:s,sx:d,...l}){const i=E(),{t:o}=B("navbar"),x=s.series.map(p=>p.value),y=s.colors??[i.palette.primary.main,i.palette.warning.main,i.palette.info.main,i.palette.error.main],c=L({chart:{sparkline:{enabled:!0}},colors:y,labels:s.series.map(p=>p.label),stroke:{width:0},dataLabels:{enabled:!0,dropShadow:{enabled:!1}},tooltip:{y:{formatter:p=>`${p} ${o("dashboard.analytics.charts.labels.cases")}`,title:{formatter:p=>`${p}`}}},plotOptions:{pie:{donut:{labels:{show:!1}}}},...s.options});return e.jsxs(b,{sx:d,...l,children:[e.jsx(F,{title:t,subheader:a}),e.jsx(M,{type:"pie",series:x,options:c,sx:{my:6,mx:"auto",width:{xs:240,xl:260},height:{xs:240,xl:260}}}),e.jsx(_e,{sx:{borderStyle:"dashed"}}),e.jsx(Ne,{labels:c?.labels,colors:c?.colors,sx:{p:3,justifyContent:"center"}})]})}function pt({title:t,subheader:a,chart:s,sx:d,...l}){const i=E(),{t:o}=B("navbar"),x=L({chart:{type:"bar",sparkline:{enabled:!1}},colors:[i.palette.success.main],plotOptions:{bar:{columnWidth:"60%",borderRadius:4}},xaxis:{categories:s.categories},yaxis:{title:{text:o("dashboard.analytics.charts.labels.numberOfCases")}},tooltip:{y:{formatter:y=>`${y} ${o("dashboard.analytics.charts.labels.cases")}`}},...s.options});return e.jsxs(b,{sx:{height:"100%",...d},...l,children:[e.jsx(F,{title:t,subheader:a}),e.jsx(M,{type:"bar",series:[{name:o("dashboard.analytics.charts.labels.casesRegistered"),data:s.series}],options:x,sx:{height:364}})]})}const de="all-time";function mt(){const{user:t}=De(),{t:a}=B("navbar"),{i18n:s}=Oe(),d=Se();S.extend(Te),S.extend(it);const l=(t?.role||"").toLowerCase(),i=l==="admin",o=l==="company",x=l==="case_manager",y=o||x,[c,p]=g.useState(null),[u,j]=g.useState(null),[v,Y]=g.useState(de),[W,N]=g.useState("all"),[V,ee]=g.useState({timePeriod:de}),[n,Q]=g.useState(null),[z,U]=g.useState(!1),[I,G]=g.useState(null),te=g.useCallback(async r=>{try{U(!0),G(null);const h=await ot({fromDate:r.fromDate,toDate:r.toDate,timePeriod:r.timePeriod,companyId:r.companyId});Q(h)}catch(h){G(h instanceof Error?h.message:a("dashboard.analytics.errors.failedToLoad"))}finally{U(!1)}},[a]);g.useEffect(()=>{te(V)},[V,te]),g.useEffect(()=>{!n||!n.filters||(Y(n.filters.time_period),p(n.filters.from_date?S(n.filters.from_date):null),j(n.filters.to_date?S(n.filters.to_date):null),N(n.filters.company_id??"all"))},[n]);const he=g.useMemo(()=>n?.filters?.companies??[],[n?.filters?.companies]),P=g.useCallback(r=>{const h=s.resolvedLanguage||"en",_={en:"en",sv:"sv",no:"nb",da:"da",fi:"fi",de:"de",fr:"fr"}[h]||"en";return r.map(k=>{let w=S(k,"MMM YYYY","en",!0);return w.isValid()?w.locale(_).format("MMM YYYY"):(w=S(k,"DD MMM","en",!0),w.isValid()?w.locale(_).format("DD MMM"):(w=S(k,"YYYY",!0),w.isValid()?w.locale(_).format("YYYY"):(k.match(/Week (\d{2}) (\d{4})/),k)))})},[s.resolvedLanguage]),pe=g.useMemo(()=>[{key:"totalCases",title:a("dashboard.analytics.metrics.totalCases"),color:"primary",icon:"ðŸ“Š"},{key:"totalOpenStateDeadline",title:a("dashboard.analytics.metrics.totalOpenStateDeadline"),color:"warning",icon:"â°"},{key:"totalCloseStateDeadline",title:a("dashboard.analytics.metrics.totalCloseStateDeadline"),color:"error",icon:"â±ï¸"},{key:"avgDaysUntilReceived",title:a("dashboard.analytics.metrics.avgDaysUntilReceived"),color:"info",icon:"ðŸ“…"},{key:"avgDaysUntilClosed",title:a("dashboard.analytics.metrics.avgDaysUntilClosed"),color:"success",icon:"âœ…"},{key:"totalMessageTemplates",title:a("dashboard.analytics.metrics.totalMessageTemplates"),color:"warning",icon:"ðŸ“"},{key:"totalDocuments",title:a("dashboard.analytics.metrics.totalDocuments"),color:"secondary",icon:"ðŸ“„"},{key:"totalCompanies",title:a("dashboard.analytics.metrics.totalCompanies"),color:"primary",icon:"ðŸ¢"},{key:"totalLogs",title:a("dashboard.analytics.metrics.totalLogs"),color:"error",icon:"ðŸ“‹"},{key:"totalCaseManagers",title:a("dashboard.analytics.metrics.totalCaseManagers"),color:"info",icon:"ðŸ‘¤"},{key:"totalNews",title:a("dashboard.analytics.metrics.totalNews"),color:"success",icon:"ðŸ“°"}].filter(h=>i?!0:!(["totalMessageTemplates","totalCompanies","totalLogs"].includes(h.key)||x&&h.key==="totalCaseManagers")),[i,x,a]),me=r=>{const h=r&&Object.prototype.hasOwnProperty.call(r,"fromDate")?r.fromDate??null:c,m=r&&Object.prototype.hasOwnProperty.call(r,"toDate")?r.toDate??null:u,_=r?.timePeriod??v;return{fromDate:h?h.format("YYYY-MM-DD"):void 0,toDate:m?m.format("YYYY-MM-DD"):void 0,timePeriod:_,companyId:W!=="all"?W:void 0}},X=r=>{const h=r&&Object.prototype.hasOwnProperty.call(r,"fromDate")?r.fromDate??null:c,m=r&&Object.prototype.hasOwnProperty.call(r,"toDate")?r.toDate??null:u;if(h&&m&&h.isAfter(m)){G(a("dashboard.analytics.errors.dateRangeInvalid"));return}G(null),ee(me(r))},ue=(r,h)=>{if(r==="all-time")return{from:null,to:null};const m=(h??S()).endOf("day");switch(r){case"daily":return{from:m.startOf("day"),to:m};case"weekly":return{from:m.subtract(6,"day").startOf("day"),to:m};case"monthly":return{from:m.subtract(1,"month").startOf("day"),to:m};case"yearly":return{from:m.subtract(1,"year").startOf("day"),to:m};default:return{from:null,to:null}}},xe=(r,h)=>{if(h){const{from:m,to:_}=ue(h,u);Y(h),p(m),j(_),X({timePeriod:h,fromDate:m,toDate:_})}},ye=()=>{X()},fe=()=>{X()},ae=g.useCallback((r,h)=>{const m=new URLSearchParams;r==="open"?m.set("open_deadline_period",h||""):m.set("close_deadline_period",h||""),d.push(`${Ae.dashboard.case.list}?${m.toString()}`)},[d]),ge=(r,h,m,_)=>{const k=n?.metrics?.[r];if(!k||!k.chart)return e.jsx(b,{sx:{p:3},children:e.jsx(A,{variant:"rectangular",height:110})});let w;return r==="totalOpenStateDeadline"?w=()=>ae("open",v!=="all-time"?v:void 0):r==="totalCloseStateDeadline"&&(w=()=>ae("close",v!=="all-time"?v:void 0)),e.jsx(tt,{title:h,total:k.value??0,percent:k.percent??0,displayVariant:"clean",color:m,icon:e.jsx(C,{component:"span","aria-hidden":!0,sx:{fontSize:28},children:_}),periodText:a("dashboard.analytics.periodText"),chart:{series:k.chart?.series??[],categories:P(k.chart?.categories??[])},onClick:w})};return e.jsx(Re,{dateAdapter:We,children:e.jsxs(ze,{maxWidth:"xl",children:[e.jsx(q,{variant:"h4",sx:{mb:{xs:3,md:5}},children:a("dashboard.analytics.heading")}),e.jsx(q,{variant:"body1",sx:{mb:{xs:3,md:5},color:"text.secondary"},children:a("dashboard.analytics.subtitle")}),I&&e.jsx(Ie,{severity:"error",sx:{mb:3},children:I}),e.jsxs(b,{sx:{p:3,mb:3},children:[e.jsxs(f,{container:!0,spacing:3,alignItems:"center",sx:{mb:3},children:[e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsx(ne,{label:a("dashboard.analytics.filters.fromDate"),value:c,onChange:r=>p(r),slotProps:{textField:{placeholder:a("dashboard.analytics.filters.selectDate"),size:"medium"}}})}),e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsx(ne,{label:a("dashboard.analytics.filters.toDate"),value:u,onChange:r=>j(r),slotProps:{textField:{placeholder:a("dashboard.analytics.filters.selectDate"),size:"medium"}}})}),e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsx(re,{variant:"contained",size:"medium",onClick:ye,disabled:z,sx:{height:"56px",width:"100%"},children:a("dashboard.analytics.filters.filter")})})]}),e.jsxs(f,{container:!0,spacing:3,alignItems:"center",children:[e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsxs(Ee,{value:v,exclusive:!0,onChange:xe,"aria-label":"time period",size:"medium",sx:{width:"100%",justifyContent:{xs:"flex-start",md:"space-between"}},children:[e.jsx($,{value:"daily",children:a("dashboard.analytics.timePeriod.daily")}),e.jsx($,{value:"weekly",children:a("dashboard.analytics.timePeriod.weekly")}),e.jsx($,{value:"monthly",children:a("dashboard.analytics.timePeriod.monthly")}),e.jsx($,{value:"yearly",children:a("dashboard.analytics.timePeriod.yearly")}),e.jsx($,{value:"all-time",children:a("dashboard.analytics.timePeriod.allTime")})]})}),e.jsx(f,{size:{xs:12,sm:6,md:4},children:e.jsxs(Be,{select:!0,label:a("dashboard.analytics.filters.selectCompany"),value:W,onChange:r=>N(r.target.value),size:"medium",SelectProps:{native:!0},sx:{width:"100%"},children:[e.jsx("option",{value:"all",children:a("dashboard.analytics.filters.all")}),he.map(r=>e.jsx("option",{value:r.id,children:r.label},r.id))]})}),e.jsx(f,{size:{xs:12,sm:12,md:4},children:e.jsx(re,{variant:"contained",size:"medium",onClick:fe,disabled:z,sx:{height:"56px",width:"100%"},children:a("dashboard.analytics.filters.search")})})]})]}),z&&!n?e.jsx(C,{sx:{py:5,display:"flex",justifyContent:"center"},children:e.jsx(Me,{})}):e.jsxs(e.Fragment,{children:[n?.metrics&&e.jsx(f,{container:!0,spacing:3,sx:{mb:3},children:pe.map(r=>e.jsx(f,{size:{xs:12,sm:6,md:4},children:ge(r.key,r.title,r.color,r.icon)},r.key))}),e.jsxs(f,{container:!0,spacing:3,children:[!y&&e.jsx(f,{size:{xs:12,md:6},children:n?.companiesChart?e.jsx(lt,{title:a("dashboard.analytics.charts.companiesRegistered"),chart:{categories:P(n.companiesChart.categories),series:n.companiesChart.series}}):e.jsx(b,{sx:{p:3,height:"100%"},children:e.jsx(A,{variant:"rectangular",height:300})})}),y&&e.jsx(f,{size:{xs:12,md:6},children:n?.metrics?.totalCases?e.jsx(pt,{title:a("dashboard.analytics.charts.caseRegistered"),chart:{categories:P(n.metrics.totalCases.chart.categories),series:n.metrics.totalCases.chart.series}}):e.jsx(b,{sx:{p:3,height:"100%"},children:e.jsx(A,{variant:"rectangular",height:300})})}),e.jsx(f,{size:{xs:12,md:6},children:n?.categoryBreakdown?e.jsx(ht,{title:a("dashboard.analytics.charts.categoryBreakdown"),chart:n.categoryBreakdown}):e.jsx(b,{sx:{p:3,height:"100%"},children:e.jsx(A,{variant:"rectangular",height:300})})}),e.jsx(f,{size:{xs:12,md:y?12:6},children:n?.timeOfReporting?e.jsx(ct,{title:a("dashboard.analytics.charts.timeOfReporting"),chart:{...n.timeOfReporting,categories:P(n.timeOfReporting.categories)}}):e.jsx(b,{sx:{p:3,height:"100%"},children:e.jsx(A,{variant:"rectangular",height:300})})}),!y&&e.jsx(f,{size:{xs:12,md:6},children:n?.userActivity?e.jsx(nt,{title:a("dashboard.analytics.charts.userActivity"),chart:{...n.userActivity,categories:P(n.userActivity.categories)}}):e.jsx(b,{sx:{p:3,height:"100%"},children:e.jsx(A,{variant:"rectangular",height:300})})}),!y&&e.jsx(f,{size:{xs:12},children:n?.latestCompanies?e.jsx(dt,{title:a("dashboard.analytics.charts.latestCompanies"),list:n.latestCompanies}):e.jsx(b,{sx:{p:3},children:e.jsx(A,{variant:"rectangular",height:260})})})]})]})]})})}const ut={title:`Analytics | Dashboard - ${ce.appName}`};function Rt(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:ut.title}),e.jsx(mt,{})]})}export{Rt as default};
