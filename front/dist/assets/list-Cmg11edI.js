import{w as L,u as S,V as T,r as m,x as b,j as e,B as p,b as I,c as d,C as R,T as l,I as h,U,L as W,p as E}from"./index-BJkBHIXD.js";import{u as V}from"./terms-conditions-CcMF1HTj.js";import{E as $}from"./empty-content-Cck_Y1yy.js";import{S as t}from"./Stack-DSqJGNfN.js";import{C as x}from"./Card-CU8jzKuK.js";import"./text-transform-DM798QSo.js";import"./styles-B-zEs6qR.js";import"./TextField-BfOXJaKd.js";import"./Select-CM-FquqI.js";import"./format-number-BErDzwe7.js";function D(){const{t:r}=L("navbar"),g=S(),{user:n}=T(),{data:i,isLoading:f,error:y}=V(),[s,u]=m.useState(!1),a=m.useMemo(()=>{const o=(typeof window<"u"&&window.location?.origin?window.location.origin:b.serverUrl).replace(/\/$/,""),c=n?.companySlug||n?.company_slug||n?.slug||"";return(n?.role||"").toLowerCase()==="company"&&c?o?`${o}/company/${c}/terms-and-condition`:`/company/${c}/terms-and-condition`:o?`${o}/terms-of-service`:"/terms-of-service"},[n]);m.useEffect(()=>{if(!s)return;const o=setTimeout(()=>u(!1),2e3);return()=>clearTimeout(o)},[s]);const C=async()=>{if(!a||typeof navigator>"u"||!navigator.clipboard){console.warn("Clipboard API not available to copy terms URL");return}try{await navigator.clipboard.writeText(a),u(!0)}catch(o){console.error("Failed to copy terms URL",o)}},j=()=>{g.push(E.dashboard.termsConditions.edit)},w=()=>e.jsx(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(I,{})}),k=()=>e.jsx($,{filled:!0,title:r("dashboard.termsConditions.error.title"),description:r("dashboard.termsConditions.error.description"),action:e.jsx(d,{variant:"contained",onClick:()=>window.location.reload(),children:r("dashboard.termsConditions.error.retry")})}),v=()=>e.jsx(R,{maxWidth:"md",sx:{py:4},children:e.jsxs(t,{spacing:3,children:[e.jsxs(t,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:3},children:[e.jsxs(p,{children:[e.jsx(l,{variant:"h4",sx:{mb:1,fontWeight:600},children:i?.title}),e.jsx(t,{direction:"row",spacing:2,alignItems:"center",children:e.jsxs(l,{variant:"body2",color:"text.secondary",children:[r("dashboard.termsConditions.lastUpdated"),":"," ",i?.lastUpdated?new Date(i.lastUpdated).toLocaleDateString():r("dashboard.termsConditions.unknown")]})})]}),e.jsx(d,{variant:"contained",startIcon:e.jsx(h,{icon:"solar:pen-bold"}),onClick:j,sx:{minWidth:160},children:r("dashboard.termsConditions.editTermsConditionsButton")})]}),e.jsx(x,{sx:{p:4,borderRadius:2,boxShadow:o=>`inset 0 -2px 0 0 ${U(o.vars.palette.grey["500Channel"],.08)}`,bgcolor:"grey.200"},children:e.jsx(p,{sx:{"& h1, & h2, & h3, & h4, & h5, & h6":{color:"text.primary",fontWeight:600,mb:2,mt:3,"&:first-of-type":{mt:0}},"& h1":{fontSize:{xs:"1.5rem",md:"2rem"},mb:3},"& h2":{fontSize:{xs:"1.25rem",md:"1.5rem"}},"& h3":{fontSize:{xs:"1.125rem",md:"1.25rem"}},"& p":{color:"text.secondary",lineHeight:1.7,mb:2},"& ul, & ol":{pl:3,mb:2,"& li":{color:"text.secondary",lineHeight:1.7,mb:.5}},"& strong":{fontWeight:600,color:"text.primary"},"& a":{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},"& img":{maxWidth:"100%",height:"auto",borderRadius:1,my:2},"& blockquote":{borderLeft:4,borderColor:"primary.main",pl:2,py:1,my:2,backgroundColor:"grey.50",fontStyle:"italic"},"& code":{backgroundColor:"grey.100",px:.5,py:.25,borderRadius:.5,fontSize:"0.875em",fontFamily:"monospace"},"& pre":{backgroundColor:"grey.100",p:2,borderRadius:1,overflow:"auto","& code":{backgroundColor:"transparent",p:0}},"& table":{width:"100%",borderCollapse:"collapse",mb:2,"& th, & td":{border:1,borderColor:"divider",p:1,textAlign:"left"},"& th":{backgroundColor:"grey.50",fontWeight:600}}},dangerouslySetInnerHTML:{__html:i?.content||""}})}),e.jsx(x,{sx:{p:4,borderRadius:2,boxShadow:o=>o.customShadows.z1},children:e.jsxs(t,{spacing:2,children:[e.jsx(l,{variant:"h5",children:r("dashboard.termsConditions.publicLinkTitle",{defaultValue:"Public page URL"})}),e.jsx(l,{variant:"body2",color:"text.secondary",children:r("dashboard.termsConditions.publicLinkDescription",{defaultValue:"Share or embed this link to show the public terms page."})}),e.jsxs(t,{spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},children:[e.jsx(W,{href:a,target:"_blank",rel:"noopener",sx:{wordBreak:"break-all",fontWeight:600},children:a}),e.jsxs(t,{direction:"row",spacing:1,children:[e.jsx(d,{variant:"outlined",color:s?"success":"inherit",startIcon:e.jsx(h,{icon:s?"solar:check-circle-bold":"solar:copy-bold"}),onClick:C,children:s?r("dashboard.termsConditions.publicLinkCopied",{defaultValue:"Copied!"}):r("dashboard.termsConditions.copyLink",{defaultValue:"Copy link"})}),e.jsx(d,{variant:"contained",color:"primary",startIcon:e.jsx(h,{icon:"solar:external-drive-bold"}),onClick:()=>window.open(a,"_blank","noopener,noreferrer"),children:r("dashboard.termsConditions.viewPublicPage",{defaultValue:"Open page"})})]})]})]})})]})});return f?w():y||!i?k():v()}function P(){return e.jsx(D,{})}const z={title:`Terms & Conditions | Dashboard - ${b.appName}`};function K(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:z.title}),e.jsx(P,{})]})}export{K as default};
