import{bI as k,j as e,B as r,c as g,y as v,I as c,ah as w,a7 as C,bJ as S,bK as W,M as A,r as I,W as E,aa as T,p as x,bL as D,a6 as b,T as s,bt as L,a9 as B,bw as O}from"./index-BJkBHIXD.js";import"./index-BdvNLWsN.js";import"./integration-create-edit-form-Mm3Djaw_.js";import{S as n}from"./Stack-DSqJGNfN.js";import{C as y}from"./Card-CU8jzKuK.js";import{C as f}from"./CardHeader-BmHD0Q2N.js";import{F as R}from"./FormControlLabel-Do9AncA_.js";import"./index.esm-DG78EUPk.js";import"./zod-DbnPk1Kl.js";import"./schemas-BaSQ7w8v.js";import"./fields-wQ2IQIfM.js";import"./text-transform-DM798QSo.js";import"./TextField-BfOXJaKd.js";import"./Select-CM-FquqI.js";import"./index-BdCJuPE0.js";import"./rhf-phone-input-DvY4aKGv.js";import"./index-CDpvdXdB.js";import"./search-not-found-BYtFGFNz.js";import"./InputAdornment-Cyf39fZQ.js";import"./rhf-text-field-D45rQogC.js";import"./RadioGroup-eX8WPtuC.js";import"./Autocomplete-vOabT0lM.js";import"./Chip-Cd7PxQUv.js";import"./rhf-select-BCHEEYe2.js";import"./styles-B-zEs6qR.js";import"./format-number-BErDzwe7.js";import"./upload-default-BMHhCMpu.js";import"./tslib.es6-CTYbIaVE.js";import"./DatePicker-D3hVcc_W.js";import"./form-provider-BYLnCB41.js";function H({sx:i,status:o,backHref:d,editHref:t,liveHref:h,statusOptions:j,onChangeStatus:p,...m}){const l=k(),u=()=>e.jsx(S,{open:l.open,anchorEl:l.anchorEl,onClose:l.onClose,children:e.jsx(W,{children:j.map(a=>e.jsxs(A,{selected:a.value===o,onClick:()=>{l.onClose(),p(a.value)},children:[a.value==="active"&&e.jsx(c,{icon:"eva:checkmark-fill"}),a.value==="inactive"&&e.jsx(c,{icon:"eva:cloud-upload-fill"}),a.label]},a.value))})});return e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:[{mb:3,gap:1.5,display:"flex"},...Array.isArray(i)?i:[i]],...m,children:[e.jsx(g,{component:v,href:d,startIcon:e.jsx(c,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),e.jsx(r,{sx:{flexGrow:1}}),o==="active"&&e.jsx(w,{title:"View live integration",children:e.jsx(C,{component:v,href:h,children:e.jsx(c,{icon:"eva:external-link-fill"})})}),e.jsx(w,{title:"Edit",children:e.jsx(C,{component:v,href:t,children:e.jsx(c,{icon:"solar:pen-bold"})})}),e.jsx(g,{color:"inherit",variant:"contained",loading:!o,loadingIndicator:"Loadingâ€¦",endIcon:e.jsx(c,{icon:"eva:arrow-ios-downward-fill"}),onClick:l.onOpen,sx:{textTransform:"capitalize"},children:o})]}),u()]})}function F({integration:i}){const[o,d]=I.useState(i?.status||"active"),[t,h]=I.useState(i?.status==="active"),j=a=>{d(a)},p=a=>{h(a),d(a?"active":"inactive")},m=()=>e.jsxs(y,{children:[e.jsx(f,{title:"Integration Overview"}),e.jsx(b,{}),e.jsxs(n,{spacing:3,sx:{p:3},children:[e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Name"})}),e.jsx(s,{variant:"body2",children:i?.name})]}),e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Endpoint"})}),e.jsx(s,{variant:"body2",sx:{wordBreak:"break-all"},children:i?.endpoint})]}),e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"App Key"})}),e.jsx(s,{variant:"body2",sx:{fontFamily:"monospace"},children:i?.appKey})]}),e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"App Secret"})}),e.jsx(s,{variant:"body2",sx:{fontFamily:"monospace"},children:i?.appSecret})]}),i?.description&&e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Description"})}),e.jsx(s,{variant:"body2",children:i.description})]}),e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Status"})}),e.jsx(g,{size:"small",variant:"outlined",color:o==="active"?"success":"inherit",startIcon:e.jsx(c,{icon:o==="active"?"eva:checkmark-fill":"eva:cloud-upload-fill"}),children:o})]}),e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Created"})}),e.jsx(s,{variant:"body2",children:i?.createdAt})]}),e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Last Updated"})}),e.jsx(s,{variant:"body2",children:i?.updatedAt})]}),i?.lastSyncAt&&e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Last Sync"})}),e.jsx(s,{variant:"body2",children:i.lastSyncAt})]})]})]}),l=()=>e.jsxs(y,{children:[e.jsx(f,{title:"Connection Control"}),e.jsx(b,{}),e.jsxs(n,{spacing:3,sx:{p:3},children:[e.jsxs(n,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Connection Status"})}),e.jsx(R,{control:e.jsx(L,{checked:t,onChange:a=>p(a.target.checked),color:"success"}),label:e.jsxs(n,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(c,{icon:t?"eva:checkmark-fill":"eva:cloud-upload-fill",color:t?"success.main":"error.main"}),e.jsx(s,{variant:"body2",color:t?"success.main":"error.main",children:t?"Connected":"Disconnected"})]})})]}),e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Endpoint Status"})}),e.jsxs(s,{variant:"body2",color:t?"success.main":"text.secondary",sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(c,{icon:t?"eva:checkmark-fill":"eva:cloud-upload-fill",color:t?"success.main":"error.main"}),t?"Endpoint is reachable":"Endpoint is unreachable"]})]}),t&&e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Last Connection"})}),e.jsx(s,{variant:"body2",children:i?.lastSyncAt||"Never connected"})]})]})]}),u=()=>e.jsxs(y,{children:[e.jsx(f,{title:"Integration Statistics"}),e.jsx(b,{}),e.jsxs(n,{spacing:3,sx:{p:3},children:[e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Total Requests"})}),e.jsx(s,{variant:"body2",children:i?.totalRequests||0})]}),e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(r,{sx:{minWidth:120},children:e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Success Rate"})}),e.jsxs(s,{variant:"body2",children:[i?.successRate||0,"%"]})]})]})]});return e.jsxs(E,{children:[e.jsx(T,{heading:i?.name||"Integration Details",backHref:x.dashboard.integration.root,links:[{name:"Dashboard",href:x.dashboard.overview.analytics},{name:"Integration",href:x.dashboard.integration.root},{name:i?.name||"Details"}],sx:{mb:{xs:3,md:5}}}),e.jsx(H,{backHref:x.dashboard.integration.root,editHref:x.dashboard.integration.edit(i?.id||""),liveHref:i?.endpoint||"",status:o,onChangeStatus:j,statusOptions:D}),e.jsxs(n,{spacing:3,children:[m(),l(),u()]})]})}function pe(){const i=B(),{id:o}=i,d=O.find(t=>t.id===o);return e.jsx(F,{integration:d})}export{pe as default};
