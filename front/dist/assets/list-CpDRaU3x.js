import{bI as E,a4 as R,j as e,B as f,al as _,L as z,y as F,T,ah as D,bP as U,a7 as v,I as x,bJ as L,bK as W,M as b,c as I,r as p,cv as $,bR as K,a0 as A,W as V,aa as H,p as C,J as Q,a1 as G,U as J,K as q,bn as X,ab as Y,x as Z}from"./index-BJkBHIXD.js";import"./text-transform-DM798QSo.js";import"./styles-B-zEs6qR.js";import{C as B}from"./confirm-dialog-D488U7AY.js";import{u as ee,r as se,e as te,T as le,g as oe}from"./table-no-data-BKo9R2Zy.js";import{T as re}from"./table-empty-rows-BDBaI17h.js";import{T as ne}from"./table-head-custom-C2dATJUG.js";import{T as ae}from"./table-selected-action-uAaUSqFj.js";import{T as ie}from"./table-pagination-custom-Dom7EZhX.js";import{U as ce}from"./user-quick-edit-form-CkDlfqEc.js";import{T as de,a as g,b as he,c as me}from"./TableHead-D9jAElFw.js";import{C as N}from"./FormControlLabel-Do9AncA_.js";import{S as xe}from"./Stack-DSqJGNfN.js";import{F as pe,S as ue}from"./Select-CM-FquqI.js";import{I as je,T as ge}from"./TextField-BfOXJaKd.js";import{I as be}from"./InputAdornment-Cyf39fZQ.js";import{F as fe,a as S,c as P}from"./filters-result-8ZMjXTco.js";import{C as y}from"./Chip-Cd7PxQUv.js";import{C as Ce}from"./Card-CU8jzKuK.js";import"./styles-CIBYb4dP.js";import"./format-number-BErDzwe7.js";import"./empty-content-Cck_Y1yy.js";import"./LastPage-CrCg5Ljk.js";import"./index.esm-DG78EUPk.js";import"./zod-DbnPk1Kl.js";import"./schemas-BaSQ7w8v.js";import"./rhf-phone-input-DvY4aKGv.js";import"./index-CDpvdXdB.js";import"./search-not-found-BYtFGFNz.js";import"./fields-wQ2IQIfM.js";import"./index-BdCJuPE0.js";import"./rhf-text-field-D45rQogC.js";import"./RadioGroup-eX8WPtuC.js";import"./Autocomplete-vOabT0lM.js";import"./rhf-select-BCHEEYe2.js";import"./upload-default-BMHhCMpu.js";import"./tslib.es6-CTYbIaVE.js";import"./DatePicker-D3hVcc_W.js";import"./schema-utils-C_-d4BNQ.js";import"./form-provider-BYLnCB41.js";function ve({row:s,selected:n,editHref:i,onSelectRow:c,onDeleteRow:a}){const l=E(),h=R(),t=R(),d=()=>e.jsx(ce,{currentUser:s,open:t.value,onClose:t.onFalse}),r=()=>e.jsx(L,{open:l.open,anchorEl:l.anchorEl,onClose:l.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(W,{children:[e.jsx("li",{children:e.jsxs(b,{component:F,href:i,onClick:()=>l.onClose(),children:[e.jsx(x,{icon:"solar:pen-bold"}),"Edit"]})}),e.jsxs(b,{onClick:()=>{h.onTrue(),l.onClose()},sx:{color:"error.main"},children:[e.jsx(x,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),u=()=>e.jsx(B,{open:h.value,onClose:h.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(I,{variant:"contained",color:"error",onClick:a,children:"Delete"})});return e.jsxs(e.Fragment,{children:[e.jsxs(de,{hover:!0,selected:n,"aria-checked":n,tabIndex:-1,children:[e.jsx(g,{padding:"checkbox",children:e.jsx(N,{checked:n,onClick:c,slotProps:{input:{id:`${s.id}-checkbox`,"aria-label":`${s.id} checkbox`}}})}),e.jsx(g,{children:e.jsxs(f,{sx:{gap:2,display:"flex",alignItems:"center"},children:[e.jsx(_,{alt:s.name,src:s.avatar}),e.jsxs(xe,{sx:{typography:"body2",flex:"1 1 auto",alignItems:"flex-start"},children:[e.jsx(z,{component:F,href:i,color:"inherit",sx:{cursor:"pointer"},children:s.name}),e.jsx(f,{component:"span",sx:{color:"text.disabled"},children:s.email})]})]})}),e.jsx(g,{sx:{maxWidth:180},children:e.jsx(T,{variant:"body2",noWrap:!0,sx:{maxWidth:160},children:s.phoneNumber})}),e.jsx(g,{sx:{maxWidth:220},children:e.jsx(D,{title:s.company||"",arrow:!0,children:e.jsx(T,{variant:"body2",noWrap:!0,sx:{maxWidth:200},children:s.company})})}),e.jsx(g,{sx:{maxWidth:180},children:e.jsx(T,{variant:"body2",noWrap:!0,sx:{maxWidth:160},children:s.role})}),e.jsx(g,{children:e.jsx(U,{variant:"soft",color:s.status==="active"&&"success"||s.status==="pending"&&"warning"||s.status==="banned"&&"error"||"default",children:s.status})}),e.jsx(g,{children:e.jsxs(f,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(D,{title:"Quick edit",placement:"top",arrow:!0,children:e.jsx(v,{color:t.value?"inherit":"default",onClick:t.onTrue,children:e.jsx(x,{icon:"solar:pen-bold"})})}),e.jsx(v,{color:l.open?"inherit":"default",onClick:l.onOpen,children:e.jsx(x,{icon:"eva:more-vertical-fill"})})]})})]}),d(),r(),u()]})}function we({filters:s,options:n,onResetPage:i}){const c=E(),{state:a,setState:l}=s,h=p.useCallback(r=>{i(),l({name:r.target.value})},[i,l]),t=p.useCallback(r=>{const u=typeof r.target.value=="string"?r.target.value.split(","):r.target.value;i(),l({role:u})},[i,l]),d=()=>e.jsx(L,{open:c.open,anchorEl:c.anchorEl,onClose:c.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(W,{children:[e.jsxs(b,{onClick:()=>c.onClose(),children:[e.jsx(x,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),e.jsxs(b,{onClick:()=>c.onClose(),children:[e.jsx(x,{icon:"solar:import-bold"}),"Import"]}),e.jsxs(b,{onClick:()=>c.onClose(),children:[e.jsx(x,{icon:"solar:export-bold"}),"Export"]})]})});return e.jsxs(e.Fragment,{children:[e.jsxs(f,{sx:{p:2.5,gap:2,display:"flex",pr:{xs:2.5,md:1},flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"}},children:[e.jsxs(pe,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(je,{htmlFor:"filter-role-select",children:"Role"}),e.jsx(ue,{multiple:!0,label:"Role",value:a.role,onChange:t,renderValue:r=>r.map(u=>u).join(", "),inputProps:{id:"filter-role-select"},MenuProps:{slotProps:{paper:{sx:{maxHeight:240}}}},children:n.roles.map(r=>e.jsxs(b,{value:r,children:[e.jsx(N,{disableRipple:!0,size:"small",checked:a.role.includes(r),slotProps:{input:{id:`${r}-checkbox`}}}),r]},r))})]}),e.jsxs(f,{sx:{gap:2,width:1,flexGrow:1,display:"flex",alignItems:"center"},children:[e.jsx(ge,{fullWidth:!0,value:a.name,onChange:h,placeholder:"Search...",slotProps:{input:{startAdornment:e.jsx(be,{position:"start",children:e.jsx(x,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}}),e.jsx(v,{onClick:c.onOpen,children:e.jsx(x,{icon:"eva:more-vertical-fill"})})]})]}),d()]})}function ke({filters:s,onResetPage:n,totalResults:i,sx:c}){const{state:a,setState:l,resetState:h}=s,t=p.useCallback(()=>{n(),l({name:""})},[n,l]),d=p.useCallback(()=>{n(),l({status:"all"})},[n,l]),r=p.useCallback(j=>{const w=a.role.filter(k=>k!==j);n(),l({role:w})},[n,l,a.role]),u=p.useCallback(()=>{n(),h()},[n,h]);return e.jsxs(fe,{totalResults:i,onReset:u,sx:c,children:[e.jsx(S,{label:"Status:",isShow:a.status!=="all",children:e.jsx(y,{...P,label:a.status,onDelete:d,sx:{textTransform:"capitalize"}})}),e.jsx(S,{label:"Role:",isShow:!!a.role.length,children:a.role.map(j=>p.createElement(y,{...P,key:j,label:j,onDelete:()=>r(j)}))}),e.jsx(S,{label:"Keyword:",isShow:!!a.name,children:e.jsx(y,{...P,label:a.name,onDelete:t})})]})}const Te=[{value:"all",label:"All"},...G],Se=[{id:"name",label:"Name",width:250},{id:"phoneNumber",label:"Phone number",width:180},{id:"company",label:"Company",width:220},{id:"role",label:"Role",width:180},{id:"status",label:"Status",width:100},{id:"",width:88}];function Pe(){const s=ee(),n=R(),[i,c]=p.useState($),a=K({name:"",role:[],status:"all"}),{state:l,setState:h}=a,t=ye({inputData:i,comparator:oe(s.order,s.orderBy),filters:l}),d=se(t,s.page,s.rowsPerPage),r=!!l.name||l.role.length>0||l.status!=="all",u=!t.length&&r||!t.length,j=p.useCallback(o=>{const m=i.filter(O=>O.id!==o);A.success("Delete success!"),c(m),s.onUpdatePageDeleteRow(d.length)},[d.length,s,i]),w=p.useCallback(()=>{const o=i.filter(m=>!s.selected.includes(m.id));A.success("Delete success!"),c(o),s.onUpdatePageDeleteRows(d.length,t.length)},[t.length,d.length,s,i]),k=p.useCallback((o,m)=>{s.onResetPage(),h({status:m})},[h,s]),M=()=>e.jsx(B,{open:n.value,onClose:n.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",s.selected.length," "]})," items?"]}),action:e.jsx(I,{variant:"contained",color:"error",onClick:()=>{w(),n.onFalse()},children:"Delete"})});return e.jsxs(e.Fragment,{children:[e.jsxs(V,{children:[e.jsx(H,{heading:"List",links:[{name:"Dashboard",href:C.dashboard.overview.analytics},{name:"User",href:C.dashboard.user.root},{name:"List"}],action:e.jsx(I,{component:F,href:C.dashboard.user.new,variant:"contained",startIcon:e.jsx(x,{icon:"mingcute:add-line"}),children:"Add user"}),sx:{mb:{xs:3,md:5}}}),e.jsxs(Ce,{children:[e.jsx(Q,{value:l.status,onChange:k,sx:[o=>({px:{md:2.5},boxShadow:`inset 0 -2px 0 0 ${J(o.vars.palette.grey["500Channel"],.08)}`})],children:Te.map(o=>e.jsx(q,{iconPosition:"end",value:o.value,label:o.label,icon:e.jsx(U,{variant:(o.value==="all"||o.value===l.status)&&"filled"||"soft",color:o.value==="active"&&"success"||o.value==="pending"&&"warning"||o.value==="banned"&&"error"||"default",children:["active","pending","banned","rejected"].includes(o.value)?i.filter(m=>m.status===o.value).length:i.length})},o.value))}),e.jsx(we,{filters:a,onResetPage:s.onResetPage,options:{roles:X}}),r&&e.jsx(ke,{filters:a,totalResults:t.length,onResetPage:s.onResetPage,sx:{p:2.5,pt:0}}),e.jsxs(f,{sx:{position:"relative"},children:[e.jsx(ae,{dense:s.dense,numSelected:s.selected.length,rowCount:t.length,onSelectAllRows:o=>s.onSelectAllRows(o,t.map(m=>m.id)),action:e.jsx(D,{title:"Delete",children:e.jsx(v,{color:"primary",onClick:n.onTrue,children:e.jsx(x,{icon:"solar:trash-bin-trash-bold"})})})}),e.jsx(Y,{children:e.jsxs(he,{size:s.dense?"small":"medium",sx:{minWidth:960},children:[e.jsx(ne,{order:s.order,orderBy:s.orderBy,headCells:Se,rowCount:t.length,numSelected:s.selected.length,onSort:s.onSort,onSelectAllRows:o=>s.onSelectAllRows(o,t.map(m=>m.id))}),e.jsxs(me,{children:[t.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage).map(o=>e.jsx(ve,{row:o,selected:s.selected.includes(o.id),onSelectRow:()=>s.onSelectRow(o.id),onDeleteRow:()=>j(o.id),editHref:C.dashboard.user.edit(o.id)},o.id)),e.jsx(re,{height:s.dense?56:76,emptyRows:te(s.page,s.rowsPerPage,t.length)}),e.jsx(le,{notFound:u})]})]})})]}),e.jsx(ie,{page:s.page,dense:s.dense,count:t.length,rowsPerPage:s.rowsPerPage,onPageChange:s.onChangePage,onChangeDense:s.onChangeDense,onRowsPerPageChange:s.onChangeRowsPerPage})]})]}),M()]})}function ye({inputData:s,comparator:n,filters:i}){const{name:c,status:a,role:l}=i,h=s.map((t,d)=>[t,d]);return h.sort((t,d)=>{const r=n(t[0],d[0]);return r!==0?r:t[1]-d[1]}),s=h.map(t=>t[0]),c&&typeof c=="string"&&(s=s.filter(t=>t.name?.toLowerCase().includes(c.toLowerCase()))),a!=="all"&&(s=s.filter(t=>t.status===a)),l.length&&(s=s.filter(t=>l.includes(t.role))),s}const Re={title:`User list | Dashboard - ${Z.appName}`};function us(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:Re.title}),e.jsx(Pe,{})]})}export{us as default};
